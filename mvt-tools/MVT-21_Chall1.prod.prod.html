<style>.selectCar .sortVehicle{display:none}.selectCar .vehicleListTemplate .iso-sortVehicle{margin:15px 0;padding:0 3%}@media screen and (min-width:560px){.selectCar .vehicleListTemplate .iso-sortVehicle{padding:0}}.selectCar .vehicleListTemplate .iso-sortVehicle label{font-weight:700;margin-right:8px}ul.carList.sort-recommended{display:flex;flex-direction:column}.sort-recommended>*{order:100}.sort-recommended [data-sipp*=MVAR]{order:1}.sort-recommended [data-sipp*=IFAR]{order:2}.sort-recommended [data-sipp*=SFAR]{order:3}.sort-recommended [data-sipp*=PCAR]{order:4}.sort-recommended .selectedRow{order:0}</style><script>!function(){"use strict";var r={debug:!0,account:"Enterprise",portfolio:"Alamo.com",test:"Sort By Recommended Vehicles",creative:"Challenger 1",selector:".carList",template:'<div class="iso-sortVehicle"><label for="isoTestSort">Sort Cars By:</label><select name="sortBy" id="isoTestSort"><option value="Recommended">Recommended</option><option value="Lowest to Highest Price">Lowest to Highest Price</option><option value="Highest to Lowest Price">Highest to Lowest Price</option></select></div>',init:function(){r.log("Test Running..."),r.log(r.account+" - "+r.portfolio),r.log(r.test+" - "+r.creative),r.elementLoaded(r.selector,function(){r.log("Test Ready!"),r.chall()})},chall:function(){r.log("fn:Chall");var e=document.querySelector("ul.carList");document.querySelector(".sortVehicle").insertAdjacentHTML("afterend",r.template),r.addDataPrice(),r.sortLowHigh(),e.classList.add("sort-recommended"),r.addDataSIPP(),r.sortingLogic(),r.trackClicksFilter()},addDataPrice:function(){var e=document.querySelectorAll('.priceInfoDetails .price span[data-bind*="currencySymbol"]:first-child');Array.from(e).forEach(function(e,t){var o=Number(e.innerText.replace(/[^0-9.-]+/g,"")).toFixed(2);e.closest("li").setAttribute("data-price",o)})},addDataSIPP:function(){Array.from(_a.carClassesDisplayed).forEach(function(e,t){for(var o=e.code,r=(e.status,document.querySelectorAll("ul.carList > li")),c=0;c<r.length;++c)try{if(!r[t].hasAttribute("data-sipp")){r[t].setAttribute("data-sipp",o);break}}catch(e){}})},sortLowHigh:function(){Array.prototype.slice.call(document.querySelectorAll(".carList > li[data-price]")).sort(function(e,t){return e=e.getAttribute("data-price"),t=t.getAttribute("data-price"),e.localeCompare(t,void 0,{numeric:!0})}).forEach(function(e){e.parentNode.appendChild(e)})},sortHighLow:function(){Array.prototype.slice.call(document.querySelectorAll(".carList > li[data-price]")).sort(function(e,t){return e=e.getAttribute("data-price"),t=t.getAttribute("data-price"),-e.localeCompare(t,void 0,{numeric:!0})}).forEach(function(e){e.parentNode.appendChild(e)})},sortingLogic:function(){var t=document.querySelector("#isoTestSort"),o=document.querySelector("ul.carList");t.addEventListener("change",function(e){"Recommended"==t.value&&(o.classList.add("sort-recommended"),r.sortLowHigh(),r.trackClicks("Recommended")),"Lowest to Highest Price"==t.value&&(o.classList.remove("sort-recommended"),r.sortLowHigh(),r.trackClicks("Low to High")),"Highest to Lowest Price"==t.value&&(o.classList.remove("sort-recommended"),r.sortHighLow(),r.trackClicks("High to Low"))},!1)},trackClicksFilter:function(){document.querySelector(".vehicleFilter").addEventListener("click",function(e){e.target.matches("#suvs")&&r.trackClicks("Filter: SUVs"),e.target.matches("#cars")&&r.trackClicks("Filter: Cars"),e.target.matches("#vans")&&r.trackClicks("Filter: Vans"),e.target.matches("#trucks")&&r.trackClicks("Filter: Trucks")})},trackClicks:function(e){var t=r.test+" : "+e+" Selected";s.linkTrackVars="eVar20",s.eVar20=t,s.tl(this,"o",t)},elementLoaded:function(e,t){r.log("elementLoaded::  "+e+" - Checking..."),window.clearTimeout(r.eleTimer),0<document.querySelectorAll(e).length?"function"==typeof t&&(r.log("elementLoaded::  "+e+" - Found!"),t()):r.eleTimer=window.setTimeout(function(){r.elementLoaded(e,t)},100)},log:function(e){!0===r.debug&&console.log(e)}};r.init()}()</script>