<style>#updatedFiltersDrawer{max-height:0}#updatedFiltersDrawer.filters-drawer--open{max-height:none;overflow:visible}</style><script>!function(){"use strict";var r={account:"EHI",portfolio:"National",test:"MVT-470",creative:"Challenger 1",selector:".vehicle-list > .vehicle",allCarsObj:{},getReactComponent:function(e){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e[t];return null},observeEl:function(l,t){function i(e){a&&!a.has(e)&&(a.set(e,!0),t(e))}function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(e.matches&&e.matches(l)&&i(e),e.querySelectorAll){var t=e.querySelectorAll(l);if(t.length)for(var a=0;a<t.length;a++){var r=t[a];i(r)}}}var a=new Map;r(),new MutationObserver(function(e){e.forEach(function(e){if(e&&e.addedNodes&&e.addedNodes.length)for(var t=0;t<e.addedNodes.length;t++){var a=e.addedNodes[t].parentElement;a&&r(a)}})}).observe(document,{attributes:!1,childList:!0,subtree:!0})},updateCarsObject:function(){r.observeEl(".vehicle-list",function(e){console.log("Updating cars object"),r.getReactComponent(e).return.memoizedProps.vehicles.all.forEach(function(e){r.allCarsObj[e.code]=e}),console.log(r.allCarsObj),r.addFilterContainer(e),setTimeout(function(){r.updateFilterContainer()},0)})},observeEachCar:function(){r.observeEl(".vehicle-list > .vehicle",function(e){var t=r.getReactComponent(e).return.memoizedProps.vehicleCode,t=r.allCarsObj[t];console.log(t),e.setAttribute("data-capacity",t.people_capacity),e.setAttribute("data-category",t.category.name),e.setAttribute("data-sipp",t.code),e.setAttribute("data-unlimited",t.mileage_info.unlimited_mileage)})},addFilterCategories:function(e,t){for(var a="",r=Object.keys(e),l=0;l<r.length;l++){for(var i=r[l],n=e[i],o=(a+=`
					<fieldset>
						<legend class="section-title">${i}</legend>
						<div class="filters-drawer__checkboxes">
				`,console.log(n),Object.keys(n)),s=0;s<o.length;s++){var c=o[s];a+=`
							<div class="input-option-container-wrapper">
								<div class="input-option-container">
									<input id="vehicle_select_${i}_${c}" type="checkbox" name="${i}" data-dtm-track="checkbox.vehicle_select_${i}_${c}.unchecked" disabled="" /><label for="vehicle_select_${i}_${c}">${c}</label>
								</div>
							</div>
					`}a+=`
						</div>
					</fieldset>
				`}console.log(a),t.insertAdjacentHTML("beforeend",a)},updateFilterContainer:function(){var e=document.querySelector(".vehicle-select__controls.update"),t=e.querySelector(".filters-drawer__form .clearfix"),e=e.querySelector(".filters-drawer__results"),a=document.querySelectorAll(".vehicle-list > .vehicle"),l={category:{Cars:[],SUVs:[],Trucks:[],Vans:[]},mileage:{"Unlimited Mileage":[],"Limited Mileage":[]},seats:{"2+":[],"4+":[],"5+":[],"7+":[]}};a.forEach(function(e){var t=e.getAttribute("data-category"),a=e.getAttribute("data-capacity"),r=e.getAttribute("data-unlimited");l.category[t]&&l.category[t].push(e),2<a&&l.seats["2+"].push(e),4<a&&l.seats["4+"].push(e),5<a&&l.seats["5+"].push(e),7<a&&l.seats["7+"].push(e),("true"===r?l.mileage["Unlimited Mileage"]:l.mileage["Limited Mileage"]).push(e)}),e.innerHTML=a.length+" Results",console.log(l),r.addFilterCategories(l,t)},addFilterContainer:function(){var e=`
				<div class="vehicle-select__controls update">
					<div class="filters-drawer input-option--larger-on-large input-option--larger-on-medium" role="presentation">
						<div class="filters-drawer__count"><button aria-controls="filtersDrawer" aria-expanded="false" class="btn-link btn-toggle">Filters</button><span class="filters-drawer__results">0 Results</span></div>
						<div id="updatedFiltersDrawer" class="filters-drawer__form-wrap drawer-animation__content" aria-hidden="true">
							<form class="filters-drawer__form">
								<div class="clearfix"></div>
								<fieldset class="filters-drawer__buttons cancel-and-apply-buttons cancel-and-apply-buttons--3-and-2-of-12">
									<button type="submit" disabled="" class="btn">Apply</button><button type="button" disabled="" class="btn btn--opaque btn--underline">clear</button>
								</fieldset>
							</form>
						</div>
					</div>
				</div>
			`,t=document.querySelectorAll(".vehicle-select__controls");1===t.length&&(t[0].insertAdjacentHTML("afterend",e),(e=document.querySelector(".vehicle-select__controls.update")).querySelector(".filters-drawer__count button").addEventListener("click",function(){document.querySelector("#updatedFiltersDrawer").classList.toggle("filters-drawer--open"),e.querySelector(".filters-drawer").classList.toggle("drawer-animation--open")}))},init:function(){_satellite&&"function"==typeof _satellite.setVar&&"function"==typeof _satellite.track&&(_satellite.setVar("TargetCampaign",r.test),_satellite.setVar("TargetCreative",r.creative)),a.elementLoaded(r.selector,function(){r.chall()})},chall:function(){r.updateCarsObject(),r.observeEachCar()},fireTag:function(e,t){t=t||e.innerText,t=r.test?r.test+" : "+t:t;s.linkTrackVars="eVar20",s.eVar20=t,s.tl(this,"o",t)},log:function(e){!0===r.debug&&console.log(e)}},a={elementLoaded:function(e,t){window.clearTimeout(r.eleTimer),0<document.querySelectorAll(e).length?"function"==typeof t&&t():r.eleTimer=window.setTimeout(function(){a.elementLoaded(e,t)},100)}};r.init()}()</script>