<script>!function(){"use strict";var o={debug:!1,account:"Enterprise",portfolio:"Nationalcar.com",test:"GDPR Email OptIn",cookieName:"nlGDPREmailOptIn",customMbox:"nlGDPREmailOptInClicks",creative:"Challenger 1",enrollCheck:".rewards-preferences__container [id*=updates]",reviewCheck:"[id*=email-subscription]",init:function(){o.debug=Boolean(e.getQueryParam("debug")),_satellite&&_satellite.setVar&&"function"==typeof _satellite.setVar&&(_satellite.setVar("TargetCampaign",o.test),_satellite.setVar("TargetCreative",o.creative),"function"==typeof window.isoSetTargetVars&&window.isoSetTargetVars()),o.log("Test Running..."),o.log(o.account+" - "+o.portfolio),o.log(o.test+" - "+o.creative),document.getElementById("analytics").addEventListener("analyticsPersonalInformation",o.isCommVisible),-1<location.pathname.indexOf("enroll.html")&&setTimeout(function(){0<document.querySelectorAll(".loyalty--divider").length&&(o.log(o.test+" - Step 3"),o.isCommVisible())},1e3),window.addEventListener("hashchange",function(){o.checkHash()}),o.checkHash()},checkHash:function(){"#/review"==location.hash&&o.elementLoaded(o.reviewCheck,function(){o.log("Test Ready!"),o.chall()})},chall:function(){document.querySelector(o.reviewCheck).checked=!1,document.querySelector(o.reviewCheck).value=!1},isCommVisible:function(){o.log(o.test+" - COMMUNICATION_REWARD check");var e=document.getElementById("COMMUNICATION_REWARD");if(e)var t=setInterval(function(){o.log("looking for COMMUNICATION_REWARD visibility"),"visible"==e.style.overflow&&(o.log("COMMUNICATION_REWARD is visible"),clearInterval(t),o.enrollUncheck())},500);o.enrollUncheck()},enrollUncheck:function(){if(o.log(o.test+" - enrollUncheck"),document.querySelector(o.enrollCheck)&&1==document.querySelector(o.enrollCheck).checked){var e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});document.querySelector(o.enrollCheck).dispatchEvent(e)}},setTargetCookie:function(e,t){e&&t&&_satellite.setCookie("tt_info",e+"|"+t)},setTrackingCookie:function(e){_satellite.setCookies("tt_review",e)},trackClicks:function(e,t){t=t||null;adobe.target.trackEvent({mbox:o.customMbox,params:{click:e},success:function(){null!==t&&(window.location.href=t)}})},elementLoaded:function(e,t){o.log("elementLoaded::  "+e+" - Checking..."),window.clearTimeout(o.eleTimer),0<document.querySelectorAll(e).length?"function"==typeof t&&(o.log("elementLoaded::  "+e+" - Found!"),t()):o.eleTimer=window.setTimeout(function(){o.elementLoaded(e,t)},100)},log:function(e){!0===o.debug&&console.log(e)}},e={getQueryParam:function(e){for(var t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}}};o.init()}()</script>