<style>
/* Lang-Currency in footer */
footer .drivealliance .base.g {
	overflow: initial;
}
.ifr-utility button, .ifr-utility input[type=submit] {
	background: #fff;
	color: #169a5a;
}
.ifr-utility.utility-nav fieldset {
	padding-top: 1.6rem;
	transition: none;
}
.ifr-utility.utility-nav > li {
	margin-right: 0;
	margin-left: 1rem;
}
.ifr-utility.utility-nav > li .utility-nav-label {
	font-weight: 600;
}
.ifr-utility.utility-nav > li .field-container {
	line-height: 2.5;
}
.ifr-utility.utility-nav > li .field-container h4 {
	margin-bottom: 0.5rem;
}
.ifr-utility.utility-nav > li .field-container li {
	display: block;
}
.ifr-utility.utility-nav > li .utility-nav-content {
	overflow: visible;
	text-align: left;
	transition: none;
	top: auto;
	bottom: 70px;
}
.ifr-utility.utility-nav > li .utility-nav-content * {
	transition: none;
}
.ifr-utility.utility-nav > li #currencySelector-desktop {
	right: -80px;
}
.ifr-utility.utility-nav > li #languageSelector-desktop {
	right: -40px;
}
.ifr-utility.utility-nav > li ul {
	margin-bottom: 0.5rem;
	padding: 0;
}
.ifr-utility.utility-nav .utility-nav-content > .icon.icon-utility-notch {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Cpath fill='%23181918' d='M0 0h40L20 20'/%3E%3C/svg%3E");
    top: auto;
    bottom: -14px;
    left: 50%;
    transition: none;
}
.ifr-utility.utility-nav .icon-globe-white {
	filter: brightness(0)invert(35%) sepia(48%) saturate(4695%) hue-rotate(137deg) brightness(98%) contrast(83%);
	width: 22px;
	height: 24px;
}
@media (max-width: 400px) {
	.ifr-utility.utility-nav > li {
		display: block;
		margin-left: 0;
	}
	.ifr-utility.utility-nav > li #currencySelector-desktop, .ifr-utility.utility-nav > li #languageSelector-desktop {
		left: 0;
		right: 0;
	}
}
@media (max-width: 46.8em) {
	#primary-nav .mobile-utility > .language, #primary-nav .mobile-utility > .currency {
		display: none;
	}	
	.iso-footer-right {
		text-align: center;
	}
	footer .left ul.social-links li {
		margin: 0 0.7rem 0 0.7rem;
    	padding-top: 0;
	}
}
@media (min-width: 46.8em) {
	.iso-footer-right {
		float: right;
		width: 50%;
	}
	.ifr-utility {
		float: right;
	}
} 
/* Mobile nav covid link */
@media (max-width: 55.31em) {
	#primary-nav .mobile-utility>li.career-section {
			margin: 0 0 .625rem;
		    border: 1px solid #fff;
		    padding: .625rem .4375rem;
		}
		#primary-nav .mobile-utility>li.career-section {
			padding-left: 2.1rem;
			position: relative;
		}
		#primary-nav .mobile-utility>li.career-section a::before {
			background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='20px' height='24px' viewBox='0 0 20 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicons/small/globe_2%3C/title%3E%3Cdefs%3E%3Cfilter id='filter-1'%3E%3CfeColorMatrix in='SourceGraphic' type='matrix' values='0 0 0 0 0.847059 0 0 0 0 0.847059 0 0 0 0 0.847059 0 0 0 1.000000 0'%3E%3C/feColorMatrix%3E%3C/filter%3E%3C/defs%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='MB-eWeb---MVT-266--Offer-B---' transform='translate(-29.000000, -181.000000)'%3E%3Cg id='icons/small/globe_2' transform='translate(27.000000, 181.000000)' filter='url(%23filter-1)'%3E%3Cg%3E%3Cpath d='M11.3903,2.2488 C12.1383,2.2488 12.8663,2.4008 13.5533,2.6988 L13.8373,2.8228 C14.4723,2.9478 14.9543,3.5098 14.9543,4.1818 L14.9543,5.6038 C14.9543,6.2758 14.4723,6.8368 13.8373,6.9618 L12.5183,7.5348 L12.2183,7.5348 C12.3413,8.0378 12.6803,8.7778 13.5653,9.6618 L12.1513,11.0758 C10.3293,9.2558 10.1213,7.6618 10.1583,6.8748 C10.1953,6.1228 10.8113,5.5348 11.5593,5.5348 L12.1023,5.5348 L12.9543,5.1648 L12.9543,4.6198 L12.7553,4.5328 C12.3223,4.3448 11.8633,4.2488 11.3903,4.2488 L6.0473,4.2488 C5.2193,4.2488 4.5473,4.9218 4.5473,5.7478 L4.5473,6.8818 C4.5473,7.0458 4.6793,7.1788 4.8433,7.1788 L7.2283,7.1788 C8.2063,7.1788 9.0393,7.9218 9.1253,8.8708 C9.2043,9.7538 10.4213,11.6588 11.8143,12.7048 C12.8313,13.4658 13.7513,14.5388 14.5493,15.8928 C15.1733,16.9518 15.5023,18.1888 15.5023,19.4688 L15.5023,21.7858 C15.5023,22.9878 14.5233,23.9668 13.3213,23.9668 L4.1793,23.9668 C2.9773,23.9668 2.0003,22.9878 2.0003,21.7858 L2.0003,16.7038 C2.0003,16.0718 2.0563,15.4398 2.1703,14.8228 L2.1993,14.7018 L3.1403,11.7118 L5.0493,12.3138 L4.1263,15.2418 C4.0433,15.7218 4.0003,16.2128 4.0003,16.7038 L4.0003,21.7858 C4.0003,21.8858 4.0813,21.9668 4.1793,21.9668 L13.3213,21.9668 C13.4213,21.9668 13.5023,21.8858 13.5023,21.7858 L13.5023,19.4688 C13.5023,18.5448 13.2683,17.6588 12.8253,16.9068 C12.1733,15.7988 11.4083,14.8998 10.6153,14.3058 C8.9123,13.0278 7.3573,10.7168 7.1473,9.1788 L4.8433,9.1788 C3.5773,9.1788 2.5473,8.1488 2.5473,6.8818 L2.5473,5.7478 C2.5473,3.8188 4.1173,2.2488 6.0473,2.2488 L11.3903,2.2488 Z M16.6385,6.3476 L21.1625,7.7756 L20.5605,9.6836 L16.0375,8.2556 L16.6385,6.3476 Z M21.431,3.8928 L21.431,5.8928 L16.688,5.8928 L16.688,3.8928 L21.431,3.8928 Z M20.475,9.99999994e-05 L21.094,1.9021 L16.583,3.3711 L15.964,1.4691 L20.475,9.99999994e-05 Z' id='spray-bottle_icon_small' fill='%23181918'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-size: 100%;
		    content: '';
		    position: absolute;
		    top: 18px;
		    left: 8px;
		    height: 100%;
		    width: 18px;		    
		}
}	
</style>
<script>
(function() {
	'use strict';
	var isoTest = {
		account : 'EHI',
		portfolio : 'Enterprise',
		test : 'Global header redesign',
		creative : 'Challenger 2',
		selector: 'footer',
		selectorLanguage: '#utility-nav > .utility-nav > .language',
		selectorCurrency: '#utility-nav > .utility-nav > .currency',
		init : function() {

			isoTest.debug = ${user.mvtDebug};
			
			if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
				_satellite.setVar('TargetCampaign', isoTest.test);
				_satellite.setVar('TargetCreative', isoTest.creative);
				//_satellite.track('target_variables');
			}

			isoTest.log('Test Running...');
			isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
			isoTest.log(isoTest.test + ' - ' + isoTest.creative);

			helpers.elementLoaded(isoTest.selector, function() {
				isoTest.log('Test Ready!');
  				isoTest.chall();
			});
			
		},
		chall : function() {

			// Event tracking
			isoTest.events();

			// Add clearfix to footer
			document.querySelector('footer .drivealliance .base.g').classList.add('cf');
			// Add utility module to footer
			document.querySelector('.footer .gi.left').insertAdjacentHTML('beforebegin','<div class="iso-footer-right"><div class="ifr-utility utility-nav"></div></div>');
			if (document.querySelector(isoTest.selectorLanguage)) {
				var languageClone = document.querySelector(isoTest.selectorLanguage).cloneNode(true);
				var currencyClone = document.querySelector(isoTest.selectorCurrency).cloneNode(true);
				// Add cloned utility nav items to footer
				document.querySelector('.ifr-utility').insertAdjacentElement('afterbegin',languageClone);
				document.querySelector('.ifr-utility').insertAdjacentElement('afterbegin',currencyClone);
			}
			
			// Mobile nav
			if (document.querySelector('.mobile-utility.header-nav-item')) {
				document.querySelector('.mobile-utility.header-nav-item .store-finder-item').insertAdjacentElement('afterend',document.querySelector('.mobile-utility.header-nav-item .career-section'));
			}

		},
		events : function() {
			document.addEventListener('click', function (event) {
				// Lang-Currency Show-Hide Logic
				if (!event.target.classList.contains('ifr-utility > li')) {
					if (document.querySelector('.ifr-utility .language').classList.contains('visible')) {
						document.querySelector('.ifr-utility .language').classList.remove('visible','active');
					}
					if (document.querySelector('.ifr-utility .currency').classList.contains('visible')) {
						document.querySelector('.ifr-utility .currency').classList.remove('visible','active');
					}
				}
				if (event.target.closest('.ifr-utility .language')) {
					document.querySelector('.ifr-utility .language').classList.add('visible','active');
				}
				if (event.target.closest('.ifr-utility .currency')) {
					document.querySelector('.ifr-utility .currency').classList.add('visible','active');
				}
				// Tags
				if (event.target.closest('.utility-nav .language button')) {
					isoTest.fireTag('', 'Language Open');
				}
				if (event.target.closest('.utility-nav .currency button')) {
					isoTest.fireTag('', 'Currency Open');
				}
				if (event.target.closest('.utility-nav .help button')) {
					isoTest.fireTag('', 'Help Open');
				}
				if (event.target.closest('.utility-nav .career-link')) {
					isoTest.fireTag('', 'Covid-19 Update Selected');
				}
				if (event.target.closest('[for="usd-desktop"]')) {
					isoTest.fireTag('', 'USD Selected');
				}
				if (event.target.closest('[for="cad-desktop"]')) {
					isoTest.fireTag('', 'CAD Selected');
				}
				if (event.target.closest('[for="eur-desktop"]')) {
					isoTest.fireTag('', 'EUR Selected');
				}
				if (event.target.closest('.country-language-href[href="/en/home.html"]')) {
					isoTest.fireTag('', 'English Selected');
				}
				if (event.target.closest('.country-language-href[href="/es/home.html"]')) {
					isoTest.fireTag('', 'Spanish Selected');
				}
			}, false);
		},
		fireTag : function(element, value) {
			var linkName = value ? value : element.innerText;
				linkName = isoTest.test ? isoTest.test + ' : ' + linkName : linkName;
			s.linkTrackVars = 'eVar20';
			s.eVar20 = linkName;
			s.tl(this, 'o', linkName);
		},
		log : function(obj){
			if(isoTest.debug === true){
				console.log(obj);
			}
		}

	};

	var helpers = {
		elementLoaded : function (ele, callback) {
			isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
			window.clearTimeout(isoTest.eleTimer);
			if (document.querySelectorAll(ele).length > 0) {
				if (typeof callback === 'function') {
					isoTest.log('elementLoaded::  ' + ele + ' - Found!');
					callback();
				}
	        } else {
	            isoTest.eleTimer = window.setTimeout(function(){helpers.elementLoaded(ele, callback);}, 100);
	        }
		},
	    supplant : function(str, o) {
			return str.replace(/{([^{}]*)}/g, function(a, b) {
		        var p = b.split(/\./),
		            c = o;
		        for (var i = 0; i < p.length; i++) {
		          if (c[p[i]] == null)
		            return a;
		          c = c[p[i]];
		        }
				return typeof c === 'string' || typeof c === 'number' ? c : a;
			});
		}
	};

	isoTest.init();
})();
</script>
