<style>
.location-item span.location-item__count {
    display: block !important;
    background: none !important;
    color: #5c5c5c;
    font-size: 18px;
    color: #393a3b;
    font-weight: bold;
}

.location-item__content {
    align-items: center !important;
}

.location-item {
    position: relative;

}

.location-item--highlight:not(.location-item--closed):not(.iso-selected) span.location-item__count:before {
    content: '';
    height: 100%;
    left: 0;
    top: 0;
    width: 8px;
    position: absolute;
}

.location-item--highlight:not(.location-item--closed):not(.iso-selected) span.location-item__count:before {
    background: #169a5a;
}

.location-item--closed span.location-item__count:before {
    content: '';
    height: 100%;
    left: 0;
    top: 0;
    width: 8px;
    position: absolute;
    background: #656565;
}

.location-item.iso-selected:not(.location-item--closed)::before {
    content: '';
    position: absolute;
    width: 3px;
    height: 100%;
    background: #169a5a;
    left: 0;
    z-index: 99999;
    top: 0;
}

.location-item.iso-selected:not(.location-item--closed) {
    background: #169a5a1a;
}

.location-item.iso-selected:not(.location-item--closed) .location-item__wrapper::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 3px;
    background: #169a5a;
    left: 0;
}

.location-item.iso-selected:not(.location-item--closed) .location-item__wrapper::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 3px;
    background: #169a5a;
    left: 0;
    bottom: 0px;
}

.location-item.iso-selected:not(.location-item--closed) .location-item__content::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 100%;
    background: #169a5a;
    right: 0;
    z-index: 99999;
    top: 0;
}
.iso-selected:not(.location-item--closed) span.location-item__count {
    color: #006639 !important;
}

.location-error {
    z-index: 999;
    position: absolute !important;
    background: #e6e6e6 !important;
}

.location-item--closed:not(.location-item--active) .location-error{
    bottom: 0px;
}

.location-item--closed.location-item--active .location-error + div[id^="locationDetails"]{
    margin-top: 48px;
}

.location-error:before {
    border-bottom-color: #e6e6e6 !important;
    top: -15px !important;
}

.location-item--closed .location-item__wrapper {
    padding-bottom: 30px;
}

.location-item--closed .location-item__cta.btn.btn-secondary {
    border: none !important;
    text-decoration: underline !important;
    margin-top: 22px;
    padding-bottom: 0;
}

i.location-item__icon.icon {
    position: absolute;
    order: 1;
    top: 51px;
    left: 6px;
}


@media screen and (min-width: 768px) {
    .location-item--closed .location-item__wrapper.iso-extra-padding {
        padding-bottom: 50px !important
    }
}

@media screen and (max-width: 768px) {

    .location-item--highlight:not(.location-item--closed) span.location-item__count{
        color: #006639 !important;
    }
    .location-item--highlight:not(.location-item--closed) span.location-item__count:before {
        content: none !important;
    }

    .location-item.location-item--highlight::before {
        content: '';
        position: absolute;
        width: 4px;
        height: 100%;
        left: 0;
        z-index: 99999;
        top: 0;
    }

    .location-item.location-item--highlight:not(.location-item--closed)::before {
        background: #169a5a;
    }

    .location-item.location-item--highlight.location-item--closed::before {
        background: #656565;
    }

    .location-item.location-item--highlight .location-item__wrapper::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 4px;
        left: 0;
    }

    .location-item.location-item--highlight:not(.location-item--closed) .location-item__wrapper::before {
        background: #169a5a;
    }

    .location-item.location-item--highlight.location-item--closed .location-item__wrapper::before {
        background: #656565;
    }

    .location-item.location-item--highlight .location-item__wrapper::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 4px;
        left: 0;
        bottom: 0px;
    }

    .location-item.location-item--highlight:not(.location-item--closed) .location-item__wrapper::after {
        background: #169a5a;
    }

    .location-item.location-item--highlight.location-item--closed .location-item__wrapper::after {
        background: #656565;
    }

    .location-item.location-item--highlight .location-item__content::after {
        content: '';
        position: absolute;
        width: 4px;
        height: 100%;
        right: 0;
        z-index: 99999;
        top: 0;
    }

    .location-item.location-item--highlight:not(.location-item--closed) .location-item__content::after {
        background: #169a5a;
    }

    .location-item.location-item--highlight.location-item--closed .location-item__content::after {
        background: #656565;
    }

    .location-item.location-item--highlight:not(.location-item--closed) {
        background: #169a5a1a;
    }

    .location-item--closed span.location-item__count:before {
        background: #c3c3c3;
        width: 10px;
    }

    .location-item--closed.location-item--highlight span.location-item__count:before {
        background: #656565;
    }

    .location-item.location-item--closed {
        border-color: #c3c3c3 !important;
    }

    .location-item__cta-wrapper {
        width: 100% !important;
        position: relative;
        left: -20px;
    }

    .location-item__cta-wrapper button {
        min-width: 100% !important;
        width: 100% !important;
    }

    .location-error:before {
        left: 47% !important;
    }

    .location-item.location-item--highlight .location-error {
        bottom: 3px;
    }
     .location-error .location-error__action-header::after {
        content:'';
        position:absolute;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='11' height='11' viewBox='0 0 11 11'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23181918'%3E%3Cg%3E%3Cg%3E%3Cpath d='M5.5 6.125L9.625 2 11 3.375 5.5 8.875 0 3.375 1.375 2z' transform='translate(-349 -957) translate(0 749) translate(349 208)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A");
        width: 11px;
        height: 12px;
        right: 15px;
        top: 12px;
    }

    .location-error.location-error--expanded .location-error__action-header::after{
        transform:rotate(180deg)
    }
    .location-error .location-error__action-header {
        width: 100%;
    }

    i.location-item__icon.icon {
        left: 7px;
    }

}

@media screen and (min-width: 1506px) {
    .location-error {
        left: 1%;
        width: 99.1%;

    }
}

@media (min-width: 1371px) and (max-width: 1505px) {
    .location-error {
        left: 1.1%;
        width: 98.9%;
    }
}

@media (min-width: 1254px) and (max-width: 1370px) {
    .location-error {
        left: 1.2%;
        width: 98.8%;
    }
}

@media (min-width: 1159px) and (max-width: 1253px) {
    .location-error {
        left: 1.3%;
        width: 98.8%;
    }
}

@media (min-width: 1159px) and (max-width: 1158px) {
    .location-error {
        left: 1.3%;
        width: 98.8%;
    }
}

@media (min-width: 1080px) and (max-width: 1158px) {
    .location-error {
        left: 1.4%;
        width: 98.7%;
    }
}



@media (min-width: 1007px) and (max-width: 1079px) {
    .location-error {
        left: 1.5%;
        width: 98.5%;
    }
}

@media (min-width: 951px) and (max-width: 1006px) {
    .location-error {
        left: 1.6%;
        width: 98.5%;
    }

}

@media (min-width: 769px) and (max-width: 950px) {
    .location-error {
        left: 1.7%;
        width: 98.1%;
    }
}

@media (min-width: 684px) and (max-width: 768px) {
    .location-error {
        left: 1.4%;
        width: 98.9%;
    }
}

@media (min-width: 665px) and (max-width: 683px) {
    .location-error {
        left: 1.2%;
        width: 98.9%;
    }
}


@media (min-width: 549px) and (max-width: 664px) {
    .location-error {
        left: 1.7%;
        width: 98.9%;
    }
}

@media (min-width: 447px) and (max-width: 548px) {
    .location-error {
        left: 2.2%;
        width: 98.9%;
    }
}


@media (min-width: 396px) and (max-width: 446px) {
    .location-error {
        left: 2.3%;
        width: 97.7%;
    }
}

@media (min-width: 354px) and (max-width: 395px) {
    .location-error {
        left: 2.7%;
        width: 97.3%;
    }
}

@media (max-width: 353px) {
    .location-error {
        left: 3.1%;
        width: 97%;
    }
}
@media (max-width: 320px) {

    .location-item-details__hours.location-availability .availability-wrapper {
        padding: 7px 10px !important;
    }
}

@media (max-width: 1900px){
.location-error.location-error--left-arrow {left: 0.4% !important;width: 99.6% !important;}    
    
}

@media (max-width: 1680px){
.location-error.location-error--left-arrow {left: 0.5% !important;width: 99.5% !important;}    
    
}

@media (max-width: 1440px){
.location-error.location-error--left-arrow {left: 0.6% !important;width: 99.4% !important;}    

}
@media (max-width: 1280px){

.location-error.location-error--left-arrow {left: 0.6% !important;width: 99.4% !important;}    
}

@media (max-width: 1024px){

.location-error.location-error--left-arrow {left: 0.8% !important;width: 99.2% !important;}    
}

</style>
<script>
(function() {
    'use strict';
    var isoTest = {
        account: 'EHI',
        portfolio: 'EHI',
        test: 'Location Results Map Interaction',
        creative: 'Challenger 3',
        selector: '.location-item',
        debug: false,
        init: function() {

            isoTest.debug = ${user.mvtDebug};

            if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
                _satellite.setVar('TargetCampaign', isoTest.test);
                _satellite.setVar('TargetCreative', isoTest.creative);
                //_satellite.track('target_variables');
            }

            isoTest.log('Test Running...');
            isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
            isoTest.log(isoTest.test + ' - ' + isoTest.creative);

            helpers.elementLoaded(isoTest.selector, function() {
                isoTest.log('Test Ready!');
                isoTest.chall();
            });

            window.addEventListener('hashchange', isoTest.viewChange, false);

        },
        viewChange: function() {
            if (/location/.test(location.hash)) {
                helpers.elementLoaded(isoTest.selector, function() {
                    isoTest.chall();
                });
            }
        },
        chall: function() {
            var timer = setInterval(function() {
                var cards = document.querySelectorAll('.location-item');
               cards.forEach(function(item) {
                    var btn = item.querySelector('button.location-item__cta');
                    var icon = item.querySelector('.location-item__icon');
                    
                    if(icon && item.querySelector('.location-item__icon') === null){
                        item.querySelector('.location-item__count').prepend(icon);
                        item.querySelector('.location-item__count').classList.add('iso-icon-container');
                    }
                    if (btn === document.activeElement) {
                        item.classList.add('iso-selected');
                    } else {
                        item.classList.remove('iso-selected');
                    }

                });

            });

                isoTest.fixCloseAndOpentab();
            window.addEventListener('resize', function(){
                    isoTest.log('resize');
                    isoTest.fixCloseAndOpentab();
            }, false);

        },
        fixCloseAndOpentab: function(){
            isoTest.log('height fixed');
            var cardsClosed = document.querySelectorAll('.location-item.location-item--closed');
                    cardsClosed.forEach(function(item) {
                        var errorLines = item.querySelector('.location-error__content');
                        var errorHeight = item.querySelector('.location-error').clientHeight;

                        var wrapper = item.querySelector('.location-item__wrapper');
                        item.querySelector('.location-item__wrapper').style.paddingBottom = errorHeight + 'px';

                    });
        },
        fireTag: function(element, value) {
            var linkName = value ? value : element.innerText;
            linkName = isoTest.test ? isoTest.test + ' : ' + linkName : linkName;
            s.linkTrackVars = 'eVar20';
            s.eVar20 = linkName;
            s.tl(this, 'o', linkName);
        },
        log: function(obj) {
            if (isoTest.debug === true) {
                console.log(obj);
            }
        }

    }

    var helpers = {
        elementLoaded: function(ele, callback) {
            isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
            window.clearTimeout(isoTest.eleTimer);
            if (document.querySelectorAll(ele).length > 0) {
                if (typeof callback === 'function') {
                    isoTest.log('elementLoaded::  ' + ele + ' - Found!');
                    callback();
                }
            } else {
                isoTest.eleTimer = window.setTimeout(function() { helpers.elementLoaded(ele, callback); }, 100);
            }
        }
    }

    isoTest.init();
})();
</script>