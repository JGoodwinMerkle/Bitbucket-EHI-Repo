<style>#extras .cta-container__action .btn.iso-continue{display:block}#extras h2.excess-modal-header{border:0;font-size:28px;font-weight:400;line-height:38px;margin:0 3em .75em 3em;text-align:center}#extras .excess-modal-content{display:inline-block;position:relative;width:100%}#extras .excess-modal-content .iso-half{float:left;height:200px;position:relative;width:50%}#extras .excess-modal-content .iso-half:last-child{border-left:1px solid #ccc;margin:0}#extras .excess-modal-content .iso-half button{font-size:15px;font-weight:500;margin:0 2.5em;padding:.5em 1.5em;position:absolute;top:calc(50% - 25px)}#extras .excess-modal-content button:hover{background:#006639}#extras .excess-modal-content button.iso-waiver-fee{background:#fff;border:2px solid #169a5a;color:#169a5a}#extras .excess-modal-content button.iso-waiver-fee:hover{background:#006639;border-color:#006639;color:#fff}#extras .excess-modal-content span{background:#fff;color:#c9c9c9;font-size:15px;line-height:25px;position:absolute;right:calc(50% - 10px);top:calc(50% - 12px);z-index:2}#extras .iso-load{background:rgba(255,255,255,.9);height:200px;left:0;position:absolute;top:0;width:100%;z-index:3}#extras .iso-load .loading{top:50%}@media (max-width:1164px){#extras .excess-modal-content .iso-half button.iso-add-excess{margin-left:0}#extras .excess-modal-content .iso-half button.iso-waiver-fee{margin-right:0}#extras h2.excess-modal-header{margin:0 1em .75em 1em}}@media (max-width:1140px){#extras h2.excess-modal-header{margin-botton:0}#extras .excess-modal-content .iso-half{height:100px;width:100%}#extras .excess-modal-content .iso-half:last-child{border-top:1px solid #ccc;border-left:0}#extras .excess-modal-content .iso-half button{margin:0;width:100%}#extras .excess-modal-content button.iso-waiver-fee{margin-top:1em}}</style><script>!function(){"use strict";var a={account:"Enterprise",portfolio:"Enterprise.co.uk",test:"Add Extras Excess Module",creative:"Challenger 1",selector:".extras-header__btn-continue",btnCss:'<style id="isoBtnStyle">\t\t\t#extras .cta-container__action .btn {\t\t\t\tdisplay: none;\t\t\t}\t\t\t#extras .cta-container__action .btn.show {\t\t\t\tdisplay: block !important;\t\t\t}\t\t</style>',extrasCode:"EXS",continueBtn:'<button class="iso-continue btn extras-header__btn-continue">CONTINUE TO REVIEW</button>',modal:'<div role="dialog" aria-modal="true" aria-labelledby="global-modal-title" class="iso-excess-modal modal-container" aria-describedby="global-modal-content">\t\t\t\t\t\t<div class="modal-content">\t\t\t\t\t\t\t<div class="modal-header">\t\t\t\t\t\t\t\t<span id="global-modal-title">Your excess protection</span>\t\t\t\t\t\t\t\t<button class="close-modal" aria-label="Close"><i class="icon icon-close-x-white">X</i></button>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="modal-body cf">\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\t\t<div class="global-modal__actions" id="global-modal-content">\t\t\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t<h2 class="excess-modal-header">Are you sure you do not want to reduce your damage waiver excess{reduced}?</h2>\t\t\t\t\t\t\t\t\t\t\t<div class="excess-modal-content">\t\t\t\t\t\t\t\t\t\t\t\t<div class="iso-load hide"><div class="loading"></div></div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="iso-half"><button class="iso-add-excess">Add excess protection for just £{perday} a day</button></div>\t\t\t\t\t\t\t\t\t\t\t\t<span> Or </span>\t\t\t\t\t\t\t\t\t\t\t\t<div class="iso-half"><button class="iso-waiver-fee">Continue with a £{starting} waiver fee</button></div>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>',pricingFileURL:"/content/dam/mvt/ent002",locationPricing:{},init:function(){_satellite&&"function"==typeof _satellite.setVar&&"function"==typeof _satellite.track&&(_satellite.setVar("TargetCampaign",a.test),_satellite.setVar("TargetCreative",a.creative)),i.elementLoaded(a.selector,function(){a.chall()}),window.addEventListener("hashchange",a.viewChange,!1)},viewChange:function(){/extras/.test(location.hash)?i.elementLoaded(a.selector,function(){a.chall()}):/timeout/.test(location.hash)&&a.hideModal()},chall:function(){if(!document.querySelector(".add-remove[data-code="+a.extrasCode+"]"))return!1;a.getReservationInfo(),a.getPricing(),a.replaceBtn()},getReservationInfo:function(){a.locationid=ReservationStateTree.get(["session","reservationSession","pickup_location","id"]),a.carClass=ReservationStateTree.get(["session","reservationSession","selectedCarClassDetails","code"]),a.excessDaily=a.getDailyPrice()},getDailyPrice:function(){var e,t=ReservationStateTree.get(["session","reservationSession","chargeType"]);return ReservationStateTree.get(["session","reservationSession","selectedCarClassDetails","extras"])[t].insurance.forEach(function(t){t.code==a.extrasCode&&(e=t.rate_amount_view.amount)}),e},addModal:function(){a.locationPricing=a.pricingFile[a.locationid];var t=a.locationPricing[a.carClass],e=t?" to £"+t.reduced:"",o=t?t.starting:"1,400",n=i.supplant(a.modal,{reduced:e,starting:o,perday:a.excessDaily});document.querySelector(".iso-excess-modal")||(document.querySelector(".extras-view").insertAdjacentHTML("beforeend",n),a.bindModalEvents())},bindModalEvents:function(){var t=document.querySelector(".iso-excess-modal");t.querySelector(".close-modal").addEventListener("click",a.moveOn,!1),t.querySelector(".iso-waiver-fee").addEventListener("click",function(){a.moveOn(),a.fireTag(e.target,"Continue with a waiver fee")},!1),document.addEventListener("keydown",function(t){27!=event.keyCode&&"Esc"!=event.key&&"Escape"!=event.key||a.moveOn()}),t.querySelector(".iso-add-excess").addEventListener("click",function(t){a.addExcess(),a.fireTag(t.target,"Add excess protection")},!1)},addExcess:function(){var t=document.querySelector(".add-remove[data-code="+a.extrasCode+"]");a.triggerBtn(t.querySelector("button")),document.querySelector(".iso-load").classList.remove("hide");var e=setInterval(function(){!t.classList.contains("remove")||document.querySelector(".cta-container__action .loading")||document.querySelector("#extras #globalErrorsContainer")?document.querySelector("#extras #globalErrorsContainer")&&(clearInterval(e),a.hideModal()):(clearInterval(e),a.moveOn())},200)},moveOn:function(){a.hideModal();var t=document.querySelector(a.selector+":not(.iso-continue)");a.triggerBtn(t)},showModal:function(){i.elementLoaded(".iso-excess-modal",function(){var t=a.test+" : Modal Open";s.linkTrackVars="prop23",s.prop23=t,s.tl(this,"o",t),document.querySelector(".iso-excess-modal").classList.add("active"),document.querySelector(".iso-load").classList.add("hide")})},hideModal:function(){document.querySelector(".iso-excess-modal").classList.remove("active")},bindEvents:function(){document.querySelectorAll("button.iso-continue").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".add-remove[data-code="+a.extrasCode+"]").classList.contains("remove")?a.moveOn():a.showModal()},!1)})},replaceBtn:function(){document.querySelector(".extras-view").insertAdjacentHTML("beforeend",a.btnCss),document.querySelectorAll(".cta-container__action").forEach(function(t){t.querySelector("button").classList.add("hide"),t.insertAdjacentHTML("beforeend",a.continueBtn)}),a.bindEvents()},getPricing:function(){if(a.pricingFile)a.addModal();else{var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(a.pricingFile=JSON.parse(this.responseText),a.addModal())},t.onerror=function(){a.putBackBtn()},t.open("GET",a.pricingFileURL,!0),t.send()}},putBackBtn:function(){document.querySelectorAll(a.selector+"button").forEach(function(t){t.classList.contains("iso-continue")?t.classList.add("hide"):t.classList.add("show")});var t=document.querySelector("#isoBtnStyle");t.parentNode.removeChild(t)},triggerBtn:function(t){var e=new Event("click",{bubbles:!0});t.dispatchEvent(e)},fireTag:function(t,e){var o=e||t.innerText;o=a.test?a.test+" : "+o:o,s.linkTrackVars="eVar20",s.eVar20=o,s.tl(this,"o",o)},log:function(t){!0===a.debug&&console.log(t)}},i={elementLoaded:function(t,e){window.clearTimeout(a.eleTimer),0<document.querySelectorAll(t).length?"function"==typeof e&&e():a.eleTimer=window.setTimeout(function(){i.elementLoaded(t,e)},100)},supplant:function(t,i){return t.replace(/{([^{}]*)}/g,function(t,e){for(var o=e.split(/\./),n=i,a=0;a<o.length;a++){if(null==n[o[a]])return t;n=n[o[a]]}return"string"==typeof n||"number"==typeof n?n:t})}};a.init()}()</script>