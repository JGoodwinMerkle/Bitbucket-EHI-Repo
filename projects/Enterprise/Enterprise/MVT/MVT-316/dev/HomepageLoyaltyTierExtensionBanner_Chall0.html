<style>
.booking-widget-hero .img-container {
	align-items: start;
}
.iso-preres-banner {
	background: #f3f3f3;
	display: flex;
	font-size: 13px;
	align-items: center;
	justify-content: center;
	text-align: center;
	padding: 9px;
}
.iso-preres-banner svg {
    max-height: 17px;
}
.iso-preres-banner a {
	text-decoration: underline;
}
.iso-preres-banner span {
	margin-right: 8px;
}
@media (min-width: 636px) {
	.iso-preres-banner {
		font-size: 17px;
	}
	.iso-preres-banner svg {
	    max-height: 22px;
	}
}
@media (min-width: 884px) {
	.iso-preres-banner {
		padding: 10px;
	}
	.iso-preres-banner {
		font-size: 18px;
	}
	.iso-preres-banner svg {
	    max-height: 24px;
	}
}
</style>
<script>
(function() {
	'use strict';
	var isoTest = {
		account : 'EHI',
		portfolio : 'Enterprise',
		test : 'Homepage Loyalty Tier Extension Banner',
		creative : 'Challenger 0',
		selector : '.header-nav-item.sign-in',
		content: {
			en_US : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.com/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			es_US : {
				text: '¡El estado del nivel de <strong>Enterprise Plus</strong> se extendió\u00A0nuevamente!',
				url: 'https://www.enterprise.com/es/loyalty/tier-extension.html',
				cta: 'Ver detalles'
			},
			en_CA : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.ca/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			fr_CA : {
				text: 'Le maintien du statut de niveau <strong>Enterprise Plus</strong> est prolongé de\u00A0nouveau!',
				url: 'https://www.enterprise.ca/fr/loyalty/tier-extension.html',
				cta: 'Voir les détails'
			},
			en_GB : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.co.uk/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			en_IE : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.ie/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			de_DE : {
				text: 'Der <strong>Enterprise Plus</strong>-Status wird erneut\u00A0verlängert!',
				url: 'https://www.enterprise.de/de/treueprogramm/tier-extension.html',
				cta: 'Siehe Details'
			},
			en_DE : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.de/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			es_ES : {
				text: 'Hemos vuelto a ampliar el estatus de nivel <strong>Enterprise\u00A0Plus</strong>.',
				url: 'https://www.enterprise.es/es/fidelidad/tier-extension.html',
				cta: 'Ver detalles'
			},
			en_ES : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.es/en/loyalty/tier-extension.html',
				cta: 'See details'
			},
			fr_FR : {
				text: 'Les statuts des membres <strong>Enterprise Plus</strong> sont à nouveau\u00A0prolongés!',
				url: 'https://www.enterprise.fr/fr/programme-enterprise-plus/tier-extension.html',
				cta: 'En savoir plus'
			},
			en_FR : {
				text: '<strong>Enterprise Plus</strong> tier status is extended\u00A0again!',
				url: 'https://www.enterprise.fr/en/loyalty/tier-extension.html',
				cta: 'See details'
			}   
		},
		init : function() {

			isoTest.debug = ${user.mvtDebug};
			
			if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
				_satellite.setVar('TargetCampaign', isoTest.test);
				_satellite.setVar('TargetCreative', isoTest.creative);
			}

			isoTest.log('Test Running...');
			isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
			isoTest.log(isoTest.test + ' - ' + isoTest.creative);

			helpers.elementLoaded(isoTest.selector, function() {
				isoTest.log('Test Selector Found');
				helpers.userProfileLoaded(function() {
					// Exclude 'Plus' tier users
					if (store.getState().toJS().app.baobab.User.profile.basicProfile.loyaltyData.loyalty_tier !== 'Plus') {
						isoTest.log('Test Ready!');
		  				isoTest.chall();
					}
				});
			});
			
		},
		chall : function() {

			isoTest.addBanner();
			isoTest.observer();
			isoTest.events();

		},
		addBanner : function() {
			if (!$('.iso-preres-banner')) {
				var lang = enterprise.locale;
				$('#main').insertAdjacentHTML('afterbegin','<div class="iso-preres-banner"><svg fill="none" height="44" viewBox="0 0 39 44" width="39" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m13.8539 0 5.1992 12.1506 5.1992-12.1506h13.8539l-8.059 19.1415c2.4316 2.6401 3.9167 6.1656 3.9167 10.0378 0 8.1853-6.6354 14.8207-14.8207 14.8207-8.1852 0-14.82062-6.6354-14.82062-14.8207 0-3.8062 1.43485-7.2774 3.79318-9.902l-8.11576-19.2773zm5.2893 16.3889c-7.0639 0-12.7904 5.7265-12.7904 12.7904 0 7.064 5.7265 12.7905 12.7904 12.7905 7.064 0 12.7905-5.7265 12.7905-12.7905 0-7.0639-5.7265-12.7904-12.7905-12.7904zm0 3.6544c5.0457 0 9.1361 4.0904 9.1361 9.136 0 5.0457-4.0904 9.1361-9.1361 9.1361s-9.136-4.0904-9.136-9.1361c0-5.0456 4.0903-9.136 9.136-9.136zm0 2.0302c-3.9244 0-7.1058 3.1814-7.1058 7.1058 0 3.9245 3.1814 7.1058 7.1058 7.1058 3.9245 0 7.1058-3.1813 7.1058-7.1058 0-3.9244-3.1813-7.1058-7.1058-7.1058zm-6.6288-20.04327h-9.45678l6.62646 15.73907c2.24672-1.8646 5.05312-3.0783 8.12992-3.3518zm22.5342 0h-9.4567l-5.2941 12.37277c3.084.2376 5.9035 1.4191 8.1702 3.2561z" fill="#333333" fill-rule="evenodd"/></svg><span>'+isoTest.content[lang].text+'</span><a href="'+isoTest.content[lang].url+'">'+isoTest.content[lang].cta+'</a></div>');
				isoTest.fireTag89('','Banner View');
			}
		},
		observer : function() {
			var observer = new MutationObserver(function(mutations) {
				mutations.forEach(function(mutation) {
					isoTest.log(mutation.type);
					if ($('#signin-content.authenticated')) {
						if (store.getState().toJS().app.baobab.User.profile.basicProfile.loyaltyData.loyalty_tier !== 'Plus') {
							isoTest.addBanner();
						}
					} else if ($('#signin-content')) {
						if ($('.iso-preres-banner')) {
							$('.iso-preres-banner').remove();
						}
					}
				});    
			});
			 
			var observerConfig = {
				attributes: true, 
				childList: true, 
				characterData: true,
			};
			 
			observer.observe($('body'), observerConfig);
		},
		events : function() {
			document.addEventListener('click', function (event) {
				if (event.target.matches('.iso-preres-banner a')) {
					isoTest.fireTag('','See Details');
				}
			}, false);
		},
		fireTag : function(element, value) {
			var linkName = value ? value : element.innerText;
				linkName = isoTest.test ? isoTest.test + ' : ' + linkName : linkName;
			s.linkTrackVars = 'eVar20';
			s.eVar20 = linkName;
			s.tl(this, 'o', linkName);
		},
		fireTag89 : function(element, value) {
			var linkName = value ? value : element.innerText;
				linkName = isoTest.test ? isoTest.test + ' : ' + linkName : linkName;
			s.linkTrackVars = 'eVar89';
			s.eVar89 = linkName;
			s.tl(this, 'o', linkName);
		},
		log : function(obj){
			if(isoTest.debug === true){
				console.log(obj);
			}
		}
	};
	var helpers = {
		userProfileLoaded : function (callback) {
			if (typeof store.getState().toJS().app.baobab.User.profile !== 'undefined') {
				isoTest.log('User.profile loaded');
				if (typeof store.getState().toJS().app.baobab.User.profile.basicProfile !== 'undefined') {
					callback();
				}
			} else {
				isoTest.eleTimer = window.setTimeout(function(){helpers.userProfileLoaded(callback);}, 100);
			}
		},
		elementLoaded : function (ele, callback) {
			isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
			window.clearTimeout(isoTest.eleTimer);
			if (document.querySelectorAll(ele).length > 0) {
				if (typeof callback === 'function') {
					isoTest.log('elementLoaded::  ' + ele + ' - Found!');
					callback();
				}
	        } else {
	            isoTest.eleTimer = window.setTimeout(function(){helpers.elementLoaded(ele, callback);}, 100);
	        }
		},
	};
	var $ = document.querySelector.bind(document);
	var $$ = document.querySelectorAll.bind(document);
	isoTest.init();
})();
</script>