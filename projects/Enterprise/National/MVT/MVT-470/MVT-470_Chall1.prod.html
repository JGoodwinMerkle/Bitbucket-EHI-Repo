<style>.vehicle-select__controls:not(.update){display:none}#updatedFiltersDrawer{max-height:0}#updatedFiltersDrawer.filters-drawer--open{max-height:500px;overflow:visible}.filters-drawer__count__btn-reset.hide{display:none}.vehicle-list.filtered .vehicle{display:none}.vehicle-list.filtered .vehicle[data-filter-applied=true]{display:block}.vehicle-list>div[data-filter-applied=true]{border-top:.125rem solid rgba(35,31,32,.2)}.vehicle-list>div[data-filter-applied=true]~div{border-top:0}</style><script>!function(){"use strict";var o={account:"EHI",portfolio:"National",test:"MVT-470",creative:"Challenger 1",selector:".vehicle-list > .vehicle",allCarsObj:{},filtersApplied:{},getReactComponent:function(e){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e[t];return null},observeEl:function(i,t){function a(e){r&&!r.has(e)&&(r.set(e,!0),t(e))}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(e.matches&&e.matches(i)&&a(e),e.querySelectorAll){var t=e.querySelectorAll(i);if(t.length)for(var r=0;r<t.length;r++){var l=t[r];a(l)}}}var r=new Map;l(),new MutationObserver(function(e){e.forEach(function(e){if(e&&e.addedNodes&&e.addedNodes.length)for(var t=0;t<e.addedNodes.length;t++){var r=e.addedNodes[t].parentElement;r&&l(r)}})}).observe(document,{attributes:!1,childList:!0,subtree:!0})},updateCarsObject:function(){o.observeEl(".vehicle-list",function(e){o.getReactComponent(e).return.memoizedProps.vehicles.all.forEach(function(e){o.allCarsObj[e.code]=e}),o.addFilterContainer(e),setTimeout(function(){o.updateFilterContainer()},0)})},observeEachCar:function(){o.observeEl(".vehicle-list > .vehicle",function(e){var t=o.getReactComponent(e).return.memoizedProps.vehicleCode,t=o.allCarsObj[t];e.setAttribute("data-capacity",t.people_capacity),e.setAttribute("data-category",t.category.name),e.setAttribute("data-sipp",t.code),e.setAttribute("data-unlimited",t.mileage_info.unlimited_mileage)})},updateVehicleResults:function(e){for(var t=document.querySelectorAll("#updatedFiltersDrawer input:checked"),r=document.querySelector(".vehicle-select__controls.update").querySelector(".filters-drawer__results"),l=(document.querySelectorAll(".vehicle-list .vehicle").forEach(function(e){e.removeAttribute("data-filtered")}),[]),i=0;i<t.length;i++){var a=t[i],n=a.getAttribute("data-name"),a=a.getAttribute("data-category");l.push(...e[a][n])}for(i=0;i<l.length;i++)l[i].setAttribute("data-filtered",!0);var c=document.querySelectorAll('.vehicle-list .vehicle[data-filtered="true"]'),s=document.querySelector(".filters-drawer__count__btn-reset"),d=document.querySelector("#updatedFiltersDrawer .cancel-and-apply-buttons .btn--underline");document.querySelector('#updatedFiltersDrawer .cancel-and-apply-buttons [type="submit"]');0<c.length?(r.innerHTML=c.length+" Results",s.classList.remove("hide"),d.disabled=!1):(r.innerHTML="",s.classList.add("hide"),document.querySelector(".vehicle-list.filtered")||(d.disabled=!0))},changedFilter:function(e){var t,r=!1;for(t in o.filtersApplied){var l=o.filtersApplied[t];!l||!1!==l.applied&&!0!==l.changed||(r=!0)}var i=document.querySelector('#updatedFiltersDrawer .cancel-and-apply-buttons [type="submit"]');r?i.removeAttribute("disabled"):i.setAttribute("disabled",!0)},checkFilters:function(){for(var e in document.querySelectorAll("#updatedFiltersDrawer input:checked").forEach(function(e){o.filtersApplied[e.id]&&!0===o.filtersApplied[e.id].changed&&e.click()}),o.filtersApplied){e=document.getElementById(e);!e||e.checked||void 0===o.filtersApplied[e.id].applied||e.click()}},clearFilters:function(e){for(var t=document.querySelectorAll("#updatedFiltersDrawer input:checked"),r=0;r<t.length;r++)t[r].click();e&&(o.filtersApplied={},o.changedFilter(),(e=document.querySelector(".drawer-animation--open .js-filters-button"))&&e.click(),document.querySelectorAll('.vehicle-list .vehicle[data-filter-applied="true"]').forEach(function(e){e.removeAttribute("data-filter-applied")}),document.querySelector(".vehicle-list").classList.remove("filtered"))},applyFilters:function(){var e,t=document.querySelectorAll("#updatedFiltersDrawer input:checked"),r=document.querySelector(".vehicle-list");o.filtersApplied={},o.changedFilter(),0<t.length?(t.forEach(function(e){o.filtersApplied[e.id]={applied:!0}}),r.classList.add("filtered"),document.querySelectorAll('.vehicle-list .vehicle[data-filter-applied="true"]').forEach(function(e){e.removeAttribute("data-filter-applied")}),document.querySelectorAll('.vehicle-list .vehicle[data-filtered="true"]').forEach(function(e){e.setAttribute("data-filter-applied",!0)}),o.fireTag(r,"Filters Applied")):(t=document.querySelector("#updatedFiltersDrawer .cancel-and-apply-buttons .btn--underline"),e=document.querySelector('#updatedFiltersDrawer .cancel-and-apply-buttons [type="submit"]'),r.classList.remove("filtered"),t.disabled=!0,e.disabled=!0),document.querySelector(".js-filters-button").click()},addFilterEvents:function(i){for(var a=document.querySelector(".vehicle-select__controls.update").querySelector(".js-filters-button span"),e=document.querySelectorAll("#updatedFiltersDrawer input"),n=0,t=0;t<e.length;t++)e[t].addEventListener("change",function(e){var t=e.target.getAttribute("data-name"),r=e.target.getAttribute("data-category"),l=(i[r][t],e.target.checked),r=(l?(n++,o.fireTag(e.target,"RW:CarClass:Filter:"+r+"select"+t+":checked")):(n--,o.fireTag(e.target,"RW:CarClass:Filter:"+r+"select"+t+":unchecked")),o.filtersApplied[e.target.id]);r&&void 0!==r.applied?o.filtersApplied[e.target.id].applied=l:o.filtersApplied[e.target.id]={changed:l},o.changedFilter(),a.innerHTML=0<n?" ("+n+")":"",o.updateVehicleResults(i)});document.querySelector(".filters-drawer__count__btn-reset").addEventListener("click",()=>{o.clearFilters(!0)}),document.querySelector("#updatedFiltersDrawer .cancel-and-apply-buttons .btn--underline").addEventListener("click",()=>{o.clearFilters(!1)}),document.querySelector('#updatedFiltersDrawer .cancel-and-apply-buttons [type="submit"]').addEventListener("click",e=>{e.preventDefault(),o.applyFilters()})},addFilterCategories:function(e,t){for(var r="",l=Object.keys(e),i=0;i<l.length;i++){for(var a=l[i],n=e[a],c=(r+=`
					<fieldset>
						<legend class="section-title">${a}</legend>
						<div class="filters-drawer__checkboxes">
				`,Object.keys(n)),s=0;s<c.length;s++){var d=c[s];0<n[d].length&&(r+=`
								<div class="input-option-container-wrapper">
									<div class="input-option-container">
										<input id="vehicle_select_${a}_${d}" type="checkbox" name="${a}" data-name="${d}" data-category="${a}" data-dtm-track="checkbox.vehicle_select_${a}_${d}.unchecked" /><label for="vehicle_select_${a}_${d}">${d}</label>
									</div>
								</div>
						`)}r+=`
						</div>
					</fieldset>
				`}t.insertAdjacentHTML("beforeend",r),o.addFilterEvents(e)},updateFilterContainer:function(){var e=document.querySelector(".vehicle-select__controls.update"),t=e.querySelector(".filters-drawer__form .clearfix"),e=e.querySelector(".filters-drawer__results"),r=document.querySelectorAll(".vehicle-list > .vehicle"),i={category:{Cars:[],Trucks:[],SUVs:[],Vans:[]},mileage:{"Unlimited Mileage":[],"Limited Mileage":[]},seats:{"2+":[],"4+":[],"5+":[],"7+":[]}};r.forEach(function(e){var t=e.getAttribute("data-category"),r=e.getAttribute("data-capacity"),l=e.getAttribute("data-unlimited");i.category[t]&&i.category[t].push(e),2<r&&i.seats["2+"].push(e),4<r&&i.seats["4+"].push(e),5<r&&i.seats["5+"].push(e),7<r&&i.seats["7+"].push(e),("true"===l?i.mileage["Unlimited Mileage"]:i.mileage["Limited Mileage"]).push(e)}),e.innerHTML=r.length+" Results",o.addFilterCategories(i,t)},addFilterContainer:function(){var t,r=`
				<div class="vehicle-select__controls update">
					<div class="filters-drawer input-option--larger-on-large input-option--larger-on-medium" role="presentation">
						<div class="filters-drawer__count"><button aria-controls="filtersDrawer" aria-expanded="false" class="btn-link btn-toggle js-filters-button">Filters<span class="btn-link__text"></span></button><span class="filters-drawer__results">0 Results</span><button class="filters-drawer__count__btn-reset hide"><span class="icon--circleclose"></span><span class="filters-drawer__count__btn-reset-text">Reset Filters</span></button></div>
						<div id="updatedFiltersDrawer" class="filters-drawer__form-wrap drawer-animation__content" aria-hidden="true">
							<form class="filters-drawer__form">
								<div class="clearfix"></div>
								<fieldset class="filters-drawer__buttons cancel-and-apply-buttons cancel-and-apply-buttons--3-and-2-of-12">
									<button type="submit" disabled="" class="btn">Apply</button><button type="button" disabled="" class="btn btn--opaque btn--underline">clear</button>
								</fieldset>
							</form>
						</div>
					</div>
				</div>
			`,e=document.querySelectorAll(".vehicle-select__controls");1===e.length&&(e[0].insertAdjacentHTML("afterend",r),(t=(r=document.querySelector(".vehicle-select__controls.update")).querySelector(".filters-drawer__count button")).addEventListener("click",function(){var e=document.querySelector("#updatedFiltersDrawer");e.classList.toggle("filters-drawer--open"),r.querySelector(".filters-drawer").classList.toggle("drawer-animation--open"),r.parentElement.parentElement.classList.toggle("vehicle-select--filters-active"),e.classList.contains("filters-drawer--open")&&o.fireTag(t,"Filters Opened"),o.checkFilters()}))},init:function(){_satellite&&"function"==typeof _satellite.setVar&&"function"==typeof _satellite.track&&(_satellite.setVar("TargetCampaign",o.test),_satellite.setVar("TargetCreative",o.creative)),r.elementLoaded(o.selector,function(){o.chall()})},chall:function(){o.updateCarsObject(),o.observeEachCar()},fireTag:function(e,t){t=t||e.innerText,t=o.test?o.test+" : "+t:t;s.linkTrackVars="eVar20",s.eVar20=t,s.tl(this,"o",t)},log:function(e){!0===o.debug&&console.log(e)}},r={elementLoaded:function(e,t){window.clearTimeout(o.eleTimer),0<document.querySelectorAll(e).length?"function"==typeof t&&t():o.eleTimer=window.setTimeout(function(){r.elementLoaded(e,t)},100)}};o.init()}()</script>