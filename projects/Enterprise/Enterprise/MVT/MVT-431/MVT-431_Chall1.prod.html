<style></style><script>!function(){"use strict";var c={account:"EHI",portfolio:"Enterprise",test:"MVT-431",creative:"Challenger 1",selector:'.location-header__toggle-buttons [aria-label*="Filter"]',filtersApplied:{anyApplied:!1,openSundays:!1,afterHoursPickup:!1,afterHoursReturn:!1},init:function(){var e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){return this.addEventListener("readystatechange",function(e){var t="#location"===window.location.hash,n=-1<this.responseURL.indexOf("prd.location.enterprise.com/enterprise-sls/search/location/enterprise/web/spatial"),o=-1<this.responseURL.indexOf("&pickupDate");4===this.readyState&&n&&o&&t&&(n=e.target.responseText,Object.defineProperty(this,"response",{writable:!0}),Object.defineProperty(this,"responseText",{writable:!0}),(o=JSON.parse(n)).result&&0<o.result.length&&(o.result=c.filterRequest(o.result),n=JSON.stringify(o)),this.response=this.responseText=n)}),e.apply(this,arguments)},_satellite&&"function"==typeof _satellite.setVar&&"function"==typeof _satellite.track&&(_satellite.setVar("TargetCampaign",c.test),_satellite.setVar("TargetCreative",c.creative)),n.elementLoaded(c.selector,function(){c.chall()})},triggerUpdate:function(){!function(e){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e[t];return null}(document.querySelector(".map-wrapper")).return.memoizedProps.onSearchThisArea()},clearFilters:function(){c.filtersApplied={anyApplied:!1,openSundays:!1,afterHoursPickup:!1,afterHoursReturn:!1},c.triggerUpdate()},applyFilter:function(e){for(var t in c.filtersApplied[e]=!c.filtersApplied[e],c.filtersApplied.anyApplied=!1,c.filtersApplied)c.filtersApplied[t]&&(c.filtersApplied.anyApplied=!0);console.log(c.filtersApplied),c.triggerUpdate()},getFilterMatches:function(e){var t={openSundays:[],afterHoursPickup:[],afterHoursReturn:[]};return e.forEach(function(e){e.additional_data.open_sundays&&t.openSundays.push(e),e.after_hours_pickup&&t.afterHoursPickup.push(e),e.after_hours_return&&t.afterHoursReturn.push(e)}),t},filterRequest:function(e){if(c.filtersApplied.anyApplied){var t,n=c.getFilterMatches(e),o=!1;for(t in c.filtersApplied)c.filtersApplied[t]&&(o=o?o.filter(e=>n[t].includes(e)):n[t]);return console.log(o),o}return e},chall:function(){var t=!1;document.querySelector('.location-header__toggle-buttons [aria-label*="Filter"]').addEventListener("click",function(e){t||(console.log("Filter button clicked!"),t=!0,c.creation())})},creation:function(){var e,t,n,o,r,a,l,i;document.querySelector(".iso")||(e=document.querySelector(".location-search-filter__container-modal-filters-block"),t=document.querySelector(".location-search-filter__container-check-filters-block"),i=(n=document.querySelector(".filter-modal-button.locations-filter-trigger.location-search-filter__locations-filter.location-search-filter__filter-input")).querySelector(".icon.icon-nav-carrot-down"),o=document.querySelector(".form-checkbox.location-search-filter__container-filter"),n=n.cloneNode(!0),o=o.cloneNode(!0),r=n.querySelector(".filter-modal-button__label-text"),a=n.querySelector(".btn.filter-modal-button__button.btn-input"),l=o.querySelector(".form-checkbox__text"),i=i.cloneNode(!0),r.innerText="Services",a.innerText="All Services",l.innerText="Open Sundays",n.classList.add("iso"),o.classList.add("iso"),o.classList.add("js-sunday"),e.insertAdjacentElement("beforeend",n),t.insertAdjacentElement("beforeend",o),n.querySelector(".btn.filter-modal-button__button.btn-input").insertAdjacentElement("beforeend",i),document.querySelector(".js-sunday input").addEventListener("change",function(e){console.log("Open sundays clicked now!!"),c.applyFilter("openSundays")}),a.addEventListener("click",function(e){c.modalFunctionality()}))},modalFunctionality:function(){document.querySelector(".ReactModalPortal").insertAdjacentHTML("beforeend",`
					<div class="ReactModal__Overlay ReactModal__Overlay--after-open modal-overlay">
						<div class="ReactModal__Content ReactModal__Content--after-open default-modal" tabindex="-1" role="dialog" aria-labelledby="modal-heading" aria-modal="true" aria-describedby="modal-content">
							<div class="modal-inner">
								<div class="modal-header">
									<button class="close-modal" aria-label="Close" type="button"><i class="icon icon-close-x-white" aria-hidden="true">X</i></button>
								</div>
								<div class="modal-content cf">
									<div class="locations-filter-modal-content">
										<h2 id="modal-heading" class="modal-content__heading">Service</h2>
										<div class="locations-filter-modal-content__filters" id="modal-content">
											<p>Select the service you want to search by.</p>
											<label class="form-checkbox locations-filter-modal-content__checkbox">
												<input type="checkbox" name="afterHoursReturn" id="afterHoursReturn" class="form-checkbox__input is-vishidden" value="" /><span class="form-checkbox__control"><i class="icon icon-check-green"></i></span>
												<span class="form-checkbox__text"><span class="locations-filter-modal-content__checkbox-text">Pick-Up Service Available </span></span>
											</label>
											<label class="form-checkbox locations-filter-modal-content__checkbox">
												<input type="checkbox" name="afterHoursPickup" id="afterHoursPickup" class="form-checkbox__input is-vishidden" value="" /><span class="form-checkbox__control"><i class="icon icon-check-green"></i></span>
												<span class="form-checkbox__text"><span class="locations-filter-modal-content__checkbox-text">After-Hours Service Available</span></span>
											</label>
										</div>
										<div class="modal-buttons-container"><button class="btn modal-button modal-cancel" type="button">Cancel</button><button class="btn modal-button js-modal-apply" type="button">Apply</button></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				`);var e=document.querySelector(".ReactModalPortal"),t=e.querySelector(".ReactModal__Overlay.ReactModal__Overlay--after-open.modal-overlay"),n=e.querySelector(".close-modal"),o=e.querySelector(".btn.modal-button.modal-cancel"),r=e.querySelector(".btn.modal-button.js-modal-apply"),a=e.querySelectorAll(".form-checkbox__input");r.addEventListener("click",function(e){a.forEach(function(e){c.filtersApplied[e.name]!==e.checked&&c.applyFilter(e.id)}),c.triggerUpdate()}),a.forEach(function(t){t.addEventListener("change",function(e){t.checked?t.parentElement.classList.add("checked"):t.parentElement.classList.remove("checked")})}),n.addEventListener("click",function(e){t.remove()}),o.addEventListener("click",function(e){t.remove()})},fireTag:function(e,t){t=t||e.innerText,t=c.test?c.test+" : "+t:t;s.linkTrackVars="eVar20",s.eVar20=t,s.tl(this,"o",t)},log:function(e){!0===c.debug&&console.log(e)}},n={elementLoaded:function(e,t){window.clearTimeout(c.eleTimer),0<document.querySelectorAll(e).length?"function"==typeof t&&t():c.eleTimer=window.setTimeout(function(){n.elementLoaded(e,t)},100)}};c.init()}()</script>