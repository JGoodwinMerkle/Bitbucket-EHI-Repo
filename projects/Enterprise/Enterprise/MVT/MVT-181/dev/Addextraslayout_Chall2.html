<style>
.reservationWidget.reservationWidget__editor-friendly{
    background: #dddddd;
}
.reservation-flow .reservation-step#extras .extras-content .extras-container .extras-title{
    text-align: left !important;
    padding-top: 17px;
    margin-bottom: 15px !important;
}
.extras-container.iso-protect {margin-bottom: 12px !important;}

.reservation-flow .reservation-step#extras .extras-content {
    margin-top: 24px !important;
}
#extras .extras-view {
     background: #ddd;
}
#extras .extras-header.cf{
    background:#fff;
}
#extras table.extras-section {
     display: flex;
     flex-wrap: wrap;
     /*justify-content: space-between;*/
}
#extras table.extras-section .extras-row {
     border-bottom: none !important;
     border-top: none !important;
     flex-basis: 32%;
     background: none;
         margin-right: 20px;
}
#extras table.extras-section .extras-row:nth-child(3n) {
     margin-right: 0;
}
#extras table.extras-section .selected tr.extras-row__summary {
     background: #006639;
}
#extras table.extras-section tr.extras-row__summary {
     background: #fff;
     margin-bottom: 8px;
     border-bottom: 3px solid #c5c5c5;
     display: flex;
     align-items: center;
     justify-items: center;
     flex-direction: column;
    position:relative;
     min-height: 270px;
}
#extras table.extras-section td.extras-row__first-item {
     align-items: center;
     display: flex !important;
     flex-direction: column-reverse;
     width: 100% !important;
     padding-bottom: 6px !important;
     margin-top: 88px !important;
    text-align: center;
}
#extras table.extras-section td.extras-row__first-item strong.extras-row__name {
     font-size: 23px;
    line-height: 24px;
     width: 100%;
}
#extras table.extras-section td.extras-row__second-item {
     width: 70%;
     text-align: center;
     padding-top: 0px !important;
     padding-bottom: 0 !important;
}
#extras table.extras-section td.extras-row__third-item {
     padding: 5px!important;
}
#extras table.extras-section td.extras-row__fourth-item {
     text-align: left;
     position: absolute;
     bottom: 24px;
     left: 42px;
     width: 40%;
     padding: 0 !important;
}
td.iso-extra-row-new table {
     border: none;
}
#extras table.extras-section td.extras-row__fifth-item {
     position: absolute;
     bottom: 21px;
     right: 46px;
     width: 40%;
     padding: 0 !important;
}
#extras table.extras-section td.extras-row__fifth-item .control-cell .label{
    padding-top: 0 !important;
}
#extras table.extras-section td.extras-row__fifth-item .included-cell .label{
    color: #949494 !important;
}
.iso-modal-open {
     height: 100%;
     overflow: hidden;
}
 .iso-modal.iso-location-filters-modal {
     display: none;
}
.iso-modal.iso-location-filters-modal.active {
     display: block;
}
.iso-modal-title{
    font-size: 15px;
     padding: 0 12px;
     color: #fff;
     font-weight: 400;
}
.iso-modal-content {
     padding: 34px 31px;
}
#extras .extras-row td[class$='first-item']::before{
    content: '';
     position: absolute;
     top:45px;
     width: 57px;
     height: 55px;
     background-repeat: no-repeat;
}
#extras .extras-container.iso-protect .extras-row td[class$="first-item"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Protection%20General.svg);
}

#extras .extras-container.iso-protect .extras-row.selected td[data-id="data-protection"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Protection%20General.svg);
}

#extras .extras-container:not(.iso-protect) .extras-row td[class$="first-item"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Equipment%20General.svg);
}
#extras .extras-container:not(.iso-protect) .extras-row.selected td[class$="first-item"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Equipment%20General.svg);
}

td[data-id="data-damage"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Damage%20waiver.svg) !important;
}
#extras .extras-row.selected td[data-id="data-damage"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Damage%20waiver.svg) !important;
}
td[data-id="data-boost"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Booster%20Seat.svg) !important;
}
#extras .extras-row.selected td[data-id="data-boost"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Booster%20Seat.svg) !important;
}
td[data-id="data-winter"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Winter%20tire.svg) !important;
}
#extras .extras-row.selected td[data-id="data-winter"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Winter%20tire.svg) !important;
}
td[data-id="data-third"]::before{
    background-image:url(https://www.enterprise.com//content/dam/ecom/hosted/add-extras-icons/idle/Third%20Part.svg) !important;
}
#extras .extras-row.selected td[data-id="data-third"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Third%20Part.svg) !important;
}
td[data-id="data-ski"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Ski%20rack.svg) !important;
}
#extras .extras-row.selected td[data-id="data-ski"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Ski%20rack.svg) !important;
}
td[data-id="data-siri"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Sirius%20XM.svg) !important;
}
#extras .extras-row.selected td[data-id="data-siri"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Sirius%20XM.svg) !important;
}
td[data-id="data-road"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Roadside%20Protection.svg) !important;
}
#extras .extras-row.selected td[data-id="data-road"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Roadside%20Protection.svg) !important;
}
td[data-id="data-protection"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Protection%20General.svg) !important;
}
#extras .extras-row.selected td[data-id="data-protection"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Protection%20General.svg) !important;
}
td[data-id="data-personal"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Personal%20insurance.svg) !important;
}
#extras .extras-row.selected td[data-id="data-personal"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Personal%20insurance.svg) !important;
}
td[data-id="data-baby"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Baby%20Seat.svg) !important;
}
#extras .extras-row.selected td[data-id="data-baby"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Baby%20Seat.svg) !important;
}
td[data-id="data-child"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Child%20Seat.svg) !important;
}
#extras .extras-row.selected td[data-id="data-child"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Child%20Seat.svg) !important;
}
td[data-id="data-greenhouse"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Greenhouse.svg) !important;
}
#extras .extras-row.selected td[data-id="data-greenhouse"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Greenhouse.svg) !important;
}
td[data-id="data-gps"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/GPS.svg) !important;
}
#extras .extras-row.selected td[data-id="data-gps"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/GPS.svg) !important;
}
td[data-id="data-excess"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/idle/Excess%20Protection.svg) !important;
}
#extras .extras-row.selected td[data-id="data-excess"]::before{
    background-image:url(https://www.enterprise.com/content/dam/ecom/hosted/add-extras-icons/selected/Excess%20Protection.svg) !important;
}

#extras table.extras-section .included tr.extras-row__summary#extras table.extras-section .extras-row.included .extras-row__summary {
     background-color: #f2f2f2 !important;
}
tr[class$=details-info--show]{
    display:none;
}
button[class^="iso-collapse-event"]:before {
     content:'';
     position: absolute;
     left: 0px;
     top: 0px;
     height: 17px;
     width: 17px;
     background-repeat: no-repeat!important;
     background:url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTQuOSAxNC43Ij48c3R5bGU+LnN0MHtmaWxsOiMxNjlBNUE7fTwvc3R5bGU+PHBhdGggY2xhc3M9InN0MCIgZD0iTTE0LjMgNC44bC0xLjItMS4yYy0uMi0uMi0uNC0uMi0uNiAwbC01IDUuMS01LjItNS4xYy0uMi0uMi0uNC0uMi0uNiAwTC42IDQuOGMtLjIuMi0uMi40IDAgLjZsNS4zIDUuM3MwIC4xLjEuMUw3LjIgMTJjLjIuMi40LjIuNiAwTDkgMTAuOGw1LjQtNS40Yy4xLS4yLjEtLjQtLjEtLjZ6Ii8+PC9zdmc+) 
}
.iso-collapse-event-fetched.iso-show.iso-arrow-close:before{
    background:url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTQuOSAxNC43Ij48c3R5bGU+LnN0MHtmaWxsOiMxNjlBNUE7fTwvc3R5bGU+PHBhdGggY2xhc3M9InN0MCIgZD0iTTE0LjMgNC44bC0xLjItMS4yYy0uMi0uMi0uNC0uMi0uNiAwbC01IDUuMS01LjItNS4xYy0uMi0uMi0uNC0uMi0uNiAwTC42IDQuOGMtLjIuMi0uMi40IDAgLjZsNS4zIDUuM3MwIC4xLjEuMUw3LjIgMTJjLjIuMi40LjIuNiAwTDkgMTAuOGw1LjQtNS40Yy4xLS4yLjEtLjQtLjEtLjZ6Ii8+PC9zdmc+)
}
button[class^="iso-collapse-event"] {
     font-size: 14px;
     color: #169a5a;
     font-weight: 600;
     text-transform: uppercase;
    position: relative;
    padding-left: 21px;
     cursor: pointer;
     background: none;
    padding: 0 0 0 21px;
}
.location-search-filters-modal__description_collapsed{
    font-size: 17px;
     line-height: 24px;
    padding-top: 12px;
}
.iso-collapse-event-fetched {
     display: none;
}
.iso-collapse-event-fetched.iso-show:before{
    background:url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTQuOSAxNC43Ij48c3R5bGU+LnN0MHtmaWxsOiMxNjlBNUE7fTwvc3R5bGU+PHBhdGggY2xhc3M9InN0MCIgZD0iTS42IDEwLjhMMS44IDEyYy4yLjIuNC4yLjYgMGw1LTUuMSA1LjIgNS4xYy4yLjIuNC4yLjYgMGwxLjEtMS4yYy4yLS4yLjItLjQgMC0uNkw5IDQuOXMwLS4xLS4xLS4xTDcuNyAzLjZjLS4yLS4yLS40LS4yLS42IDBMNS45IDQuOC41IDEwLjJjLS4xLjItLjEuNC4xLjZ6Ii8+PC9zdmc+) 
}
.iso-show{
    display:block !important;
}
.iso-hidden{
    display:none;
}
p.location-search-filters-modal__description {
     line-height: 24px;
     font-size: 17px;
}
p.location-search-filters-modal__description ul {
    list-style: disc;
     margin-left: 20px;
}
p.location-search-filters-modal__description > span {
     font-size: 16px !important;
}
#extras .extras-row__details i.icon {
     display: none;
}
#extras button.extras-row__details {
     text-decoration: underline;
}

#extras tr.extras-row__summary .numeric-stepper {
     width: 120px;
}
@media (min-width: 913px) and (max-width: 1427px){
    #extras table.extras-section .extras-row{
        flex-basis: 31%;
    }
}

@media (min-width: 768px) and (max-width: 912px){
    
    #extras table.extras-section .extras-row.selected{
        /*background: #006639;*/
    }
    #extras table.extras-section .extras-row{
        flex-basis: 48.5%!important;

    }
    #extras table.extras-section .extras-row:nth-child(2n) {
         margin-right: 0 !important;
    }
    #extras table.extras-section .extras-row:nth-child(3n) {
         margin-right: 20px !important;
    }
    #extras table.extras-section .extras-row:last-child {
         margin-right: 0px !important;
    }
    
}
@media (max-width: 768px){
    .reservation-flow .reservation-step#extras .extras-content .extras-container .extras-title{
        text-align: center !important;
    }
    #extras table.extras-section .extras-row.included{
         background-color: #f2f2f2 !important;
    }
    .reservation-flow .reservation-step#extras .extras-content{
        width:96% !important;
        margin-bottom: 0 !important;
        padding-bottom: 17px;
    }
    #extras table.extras-section .extras-row::after {
        content: '';
        height: 3px;
        background: #c3c3c3;
        width: 100%;
        position: absolute;
        bottom: 0px;
    }
    #extras table.extras-section .extras-row {
         border-bottom: 10px solid #ddd !important;
         background-color: #fff;
        flex-basis: 47%;
            position: relative;
    }
    #extras table.extras-section .extras-row.selected{
        background: #006639;
    }
     #extras table.extras-section .extras-row:nth-child(3n) {
         margin-right: 20px;
    }
    #extras td.extras-mobile-row__last-item {
         position: relative;
         padding-right: 0px;
    }
    #extras td.extras-mobile-row__last-item .included-cell {
        position: absolute;
        bottom: -64px;
        right: 45px;
        width: 120px;
    }
    
    #extras td.extras-mobile-row__last-item .add-remove {
         position: absolute;
         bottom: -64px;
         
         width: 120px;
    }
    #extras td.extras-mobile-row__last-item .add {
         right: 54px;

    }
    #extras td.extras-mobile-row__last-item .remove {
         right: 45px;
    }
    #extras td.extras-mobile-row__last-item .numeric-stepper {
         position: absolute;
         bottom: -68px;
         right: 24px;
         width: 120px;
    }
    #extras td.extras-mobile-row__last-item button span.label {
         top: -1px;
         position: relative;
    }
    td.extras-mobile-row__first-item {
         position: relative;
         align-items: center;
         display: flex !important;
         flex-direction: column-reverse;
         width: 100% !important;
         margin-top: 5px !important;
         text-align: center;
    }
    #extras .extras-row td[class$="first-item"] .extras-row__name {
        margin-top: 26px;
    }
    #extras .extras-row td[class$="first-item"]::before{
        background-size: 82%;
        top: 5px;
    }
    td.extras-mobile-row__details-item {
         padding-left: 49px !important;
         padding-bottom: 17px;
    }
    td.extras-mobile-row__price-item {
         padding: 0 !important;
    }
    tr.extras-mobile-row:nth-of-type(2) {
         margin-bottom: 20px;
        text-align: center;
    }
    .iso-modal-title{
        padding: 0 0;
    }

    tr.extras-mobile-row:nth-child(3) {
        min-height: 40px;
    }
    
    
}


@media (max-width: 698px){
    #extras table.extras-section .extras-row{
        margin: auto !important;
        flex-basis: 100%;
        margin-right: 0px;
    }
}

@media screen and (max-width: 370px){

    .iso-quantity-ele td.extras-mobile-row__last-item .numeric-stepper {
        bottom: -80px !Important;

    }

    .iso-quantity-ele .extras-mobile-row__details-item {
        padding-bottom: 28px !important;
        padding-top: 12px !important;
    }

}


</style>

<script>
(function() {
    'use strict';
    var isoTest = {
        account : 'Enterprise',
        portfolio : 'Enterprise.com',
        test : 'Add Extras Layout Redesign',
        creative : 'Challenger 2',
        selector: '.extras-section',
        headline: 'Insurance and Other Protection Products',
        exclusionExists: false,
        extras: [
                {
                    exTitle:'Protection',
                    id: "data-protection",
                },

                {
                  exTitle: 'Personal',
                  id: "data-personal",
                },
                
                {
                    exTitle:'Excess Protection',
                    id: "data-excess",
                },
                
                {
                    exTitle:'third',
                    id: "data-third",
                },
                
                {
                    exTitle:'Supplemental Liability',
                    id: "data-third",
                },
                
                {
                    exTitle:'Damage',
                    id: "data-damage",
                },
                
                {
                    exTitle:'Roadside',
                    id: "data-road",    
                },
                
                {
                    exTitle:'winter',
                    id: "data-winter",
                },
                
                {
                    exTitle: 'Sirius',
                    id: "data-siri",
                },
                
                {
                    exTitle: 'Booster Seat',
                    id: "data-boost",
                },
                
                {
                    exTitle: 'Greenhouse',
                    id: "data-greenhouse",
                },

                {
                    exTitle: 'Carbon',
                    id: "data-greenhouse",
                },

                {
                    exTitle: 'Baby',
                    id: "data-baby",
                },
                
                {
                    exTitle: 'Infant',
                    id: "data-baby",
                },

                {
                    exTitle: 'Child',
                    id: "data-child",
                },

                {
                    exTitle: 'GPS',
                    id: "data-gps",
                },
                
                {
                    exTitle: 'Sat Nav',
                    id: "data-gps",
                },

                {
                    exTitle:'ski',
                    id: "data-ski",
                },
        ],
        content: {  
            CDW : 'Damage Waiver (DW) is optional and can be added to your rental now or at the counter.<br /><br />When you purchase DW, we will waive your responsibility for damage, loss, or theft of your rental vehicle as long as you do not violate the terms of the DW as listed on your rental agreement.',
            RAP : 'Roadside Assistance Protection (RAP) is optional and can be added to your rental either now or at the counter. <br /><br />If you purchase RAP, we will waive your responsibility for providing 24/7 roadside assistance (where available) which includes:<br><ul><li>replacement of lost keys </li><li>flat tire service </li><li>lockout service </li><li>jumpstarts, and</li><li>fuel delivery service for up to 3 gallons</li></ul>',
            PAI : 'Personal Accident Insurance/Personal Effects Coverage (PAI/PEC) is optional and can be added to your rental now or at the counter.<br /><ul><li>PAI covers you and your passengers in case of accidental death or injury requiring an ambulance or medical treatment.</li><li>PEC insures your personal effects and the belongings of those traveling with you.</li><li>Benefits are payable in addition to any other insurance coverage.</li></ul><br />See the full policy when you pick up your vehicle. ',
            SLP : 'Supplemental Liability Protection (SLP) is optional and may be added to your rental now or at the counter.<br /><br />If purchased, SLP provides you and any authorized drivers with up to $300,000 combined single limit for third party liability claims.<br /><br />See the full policy when you pick up your vehicle.'
        },
        modal: '<div class="iso-location-filters-modal iso-modal">\
                            <div class="ReactModal__Overlay ReactModal__Overlay--after-open modal-overlay" aria-modal="true">\
                                <div class="ReactModal__Content ReactModal__Content--after-open default-modal" role="dialog" aria-describedby="modal-context">\
                                    <div class="modal-inner">\
                                        <div class="modal-header">\
                                            <div class="iso-modal-title">Details</div>\
                                            <button id="iso-close-modal" class="close-modal" aria-label="Close" role="button" type="button"><i class="icon icon-close-x-white" aria-hidden="true">X</i></button>\
                                        </div>\
                                        <div class="modal-content cf iso-modal-content">\
                                            <div class="location-search-filters-modal" id="modal-context">\
                                                <div class="location-search-filters-modal__header">\
                                                    <h2 class="location-search-filters-modal__title">Location Type</h2>\
                                                </div>\
                                                <p class="location-search-filters-modal__description">Select the location type(s) you want to search by.</p>\
                                                <button class="iso-collapse-event">View Exclusions</button>\
                                                <button class="iso-collapse-event-fetched">View Exclusions</button>\
                                                <div class="location-search-filters-modal__description_collapsed"></div>\
                                            </div>\
                                        </div>\
                                  </div>\
                                </div>\
                            </div>\
                        </div>',
        tabbableElements : 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed',
        init : function() {
            isoTest.domEvent();
            // isoTest.debug = ${user.mvtDebug};
            
            if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
                _satellite.setVar('TargetCampaign', isoTest.test);
                _satellite.setVar('TargetCreative', isoTest.creative);
                //_satellite.track('target_variables');
            }

            isoTest.log('Test Running...');
            isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
            isoTest.log(isoTest.test + ' - ' + isoTest.creative);

            helpers.elementLoaded(isoTest.selector, function() {
                isoTest.log('Test Ready!');
                isoTest.chall();
            });            
            window.addEventListener('hashchange', function(){
               var timer = setInterval(function(){
                if(document.querySelector('#loader .spinner-container') === null){
                    isoTest.viewChange();
                    clearInterval(timer);
                    isoTest.log('spinner gone!');

                }
                isoTest.log('timer');
               }, 500)
                    
            
                
            }, false);
            window.addEventListener('resize', function(){
                    isoTest.log('fn: resize');

                    isoTest.updateContent();

                    var contentInt = setInterval(function(){
                        isoTest.updateContent();
                    },100);

                    setTimeout(function(){ clearInterval(contentInt) }, 1000);
                });
        
        },
        viewChange : function(){
            if(/extras/.test(location.hash)){
                helpers.elementLoaded(isoTest.selector, function() {
                    isoTest.chall();
                });
            }
        },
        

        addFilterModal : function() {
            isoTest.log('addFilterModal()');
            if (document.querySelector('.iso-location-filters-modal.iso-modal') == null) {
                document.querySelector('#ip-redirect').insertAdjacentHTML("afterend", isoTest.modal);
            }
        },
        domEvent: function(){
            document.addEventListener('click', function(e){

                    setTimeout(function(){
                        if (e.target.classList.contains('extras-row__details')){
                            
                            var title = e.target.closest('.extras-row').querySelector("td[class$='first-item']").textContent;

                            var details = e.target.closest('.extras-row').querySelector('tr[class$=details-info--show] p').innerHTML;

                            if(e.target.closest('.extras-row').querySelector('tr[class$=details-info--show] button') != null){
                                isoTest.exclusionExists = true;
                            }else{
                                isoTest.exclusionExists = false;


                            }

                            isoTest.modalOpen(title, details);



                        } ;

                        
                    }, 500);
                    if(e.target.classList.contains('iso-collapse-event')){


                            document.querySelector('tr[class$=details-info--show] .extras-row__exclusions').click(); // should be correct
                            
                            setTimeout(function(){

                                if(document.querySelector('.ReactModalPortal').hasChildNodes()){
                                    document.querySelector('.iso-collapse-event').classList.add('iso-hidden');
                                    document.querySelector('.iso-collapse-event-fetched').classList.add('iso-show');
                                    var p = document.querySelector('.extras-modal').textContent;

                                    document.querySelector('.location-search-filters-modal__description_collapsed').innerHTML = p;


                                    document.querySelector('.location-search-filters-modal__description_collapsed').classList.remove('iso-hidden');

                                    document.querySelector('.ReactModalPortal').classList.add('iso-hidden');
                                    // '.ReactModal__Body--open{overflow: auto !important;}'+
                    

                                }else{
                                }

                            }, 50)
                    }

                    if(e.target.classList.contains('iso-collapse-event-fetched')){
                                   
                                    document.querySelector('.location-search-filters-modal__description_collapsed').classList.toggle('iso-hidden');
                                    document.querySelector('.iso-collapse-event-fetched').classList.toggle('iso-arrow-close');
                    }

            });
        },
        addEvents : function() {
                    

            isoTest.log("addEvents()");
            
           
            document.querySelector('.iso-modal.iso-location-filters-modal .close-modal').addEventListener('click', function (e) {
                isoTest.destroyModal();
            }, false);

            document.addEventListener("keydown", function (e) {
                var keyCode = (e.keyCode ? e.keyCode : e.which);
                if (keyCode == '27') {
                  if (document.querySelector('html').classList.contains('iso-modal-open')) {
                    isoTest.fireTag('esc','Filter Location Type: Close');
                    isoTest.destroyModal();
                  }
                }
            }, false);

            document.querySelector('.iso-modal .modal-overlay').onclick = function(e){
                    if(e.target === this){
                        isoTest.destroyModal();
                    }

            }
        },
        modalOpen : function(title, desc) {
                document.querySelector('.iso-modal.iso-location-filters-modal').classList.add('active');
                document.querySelector('html').classList.add('iso-modal-open');
                var modalFocus = document.querySelector('.iso-modal.iso-location-filters-modal');
                modalFocus.style.display = "block";
                modalFocus.querySelector('.close-modal').focus();

                isoTest.keepFocus(modalFocus);
                
                
                document.querySelector('.iso-modal.iso-location-filters-modal h2').innerHTML = title;
                document.querySelector('.iso-modal.iso-location-filters-modal p').innerHTML = desc;
                if(isoTest.exclusionExists === false){
                    document.querySelector('.iso-collapse-event').classList.add('iso-hidden');
                }

        },
        
        destroyModal : function() {
            isoTest.log("destroyModal()");
            document.querySelector('html').classList.remove('iso-modal-open');
            var elModal = document.querySelector('.iso-modal.iso-location-filters-modal');
            elModal.classList.remove('active');
            elModal.style.display = "none";

            // kills hidden overlay
            var hiddenOverlay = document.querySelector('.ReactModalPortal button.close-modal')
            if(hiddenOverlay){
                hiddenOverlay.click();
            }
            
            document.querySelector('.ReactModalPortal').classList.remove('iso-hidden');

            document.querySelector('.iso-collapse-event').classList.remove('iso-hidden');
                                document.querySelector('.iso-collapse-event-fetched').classList.remove('iso-show');
                                document.querySelector('.location-search-filters-modal__description_collapsed').innerHTML = "";
        },
        keepFocus : function(context) {
            var keyListener = function(e) {
                var keyCode = e.which || e.keyCode;
                e.preventDefault = e.preventDefault || function () {
                    e.returnValue = false;
                };
              
                if ( e.shiftKey ) /* shift + tab */ {
                    if (keyCode === 9) {
                        if(document.activeElement === document.querySelector('#iso-close-modal')){
                                e.preventDefault();
                                if(document.querySelector('.iso-collapse-event-fetched.iso-show')){
                                    document.querySelector('.iso-collapse-event-fetched').focus();
                                }else{
                                    document.querySelector('.iso-collapse-event').focus();

                                }
                            }else{
                                e.preventDefault();
                                document.querySelector('#iso-close-modal').focus()
                            }
                    }
                } else /* tab */ {
                    if (keyCode === 9) {
                        if(document.querySelector('.iso-collapse-event').classList.contains('iso-hidden') && !document.querySelector('.iso-collapse-event-fetched').classList.contains('iso-show')){ // exclusion doesn't exists
                            e.preventDefault();
                            document.querySelector('#iso-close-modal').focus();
                        }else{ // exclusion exists
                            if(document.activeElement === document.querySelector('#iso-close-modal')){

                                e.preventDefault();
                                if(document.querySelector('.iso-collapse-event-fetched.iso-show')){
                                    e.preventDefault();

                                    document.querySelector('.iso-collapse-event-fetched').focus();

                                }else{
                                    e.preventDefault();

                                    document.querySelector('.iso-collapse-event').focus();


                                }
                            }else{
                                e.preventDefault();
                                document.querySelector('#iso-close-modal').focus();

                            }
                        }
                    }
                    
                }


               
            };
            var context = document.querySelector('.iso-modal.iso-location-filters-modal');

            context.addEventListener('keydown', keyListener, false);

            document.querySelector('.iso-modal.iso-location-filters-modal .close-modal').addEventListener('click', function (e) {
                context.removeEventListener('keydown', keyListener, false);
            }, false);

        },
        chall : function() {
           
            if (document.querySelectorAll('.extras-content > .extras-container').length === 2) {
                isoTest.updateContent();
                document.querySelectorAll('.extras-container h2')[0].innerText = isoTest.headline;
                document.querySelectorAll('.extras-content > .extras-container')[0].classList.add('iso-protect');

            }

            isoTest.extras.forEach(function(x){
                document.querySelectorAll('.extras-row').forEach(function(item){


                    if(item.querySelector('td[class$="first-item"] .extras-row__name').innerHTML.toLowerCase().includes(x.exTitle.toLowerCase())){
                       item.querySelector('td[class$="first-item"]').setAttribute('data-id',  x.id);
 
                    }

                    if(window.innerWidth < 371){
                        setTimeout(function(){

                            if(item.querySelector('.numeric-stepper')){
                                item.classList.add('iso-quantity-ele');
                            }
                        }, 500);
                        item.querySelector('td[class$="last-item"]').addEventListener('click', function(){
                            setTimeout(function(){
                            if(item.querySelector('.numeric-stepper')){
                                item.classList.add('iso-quantity-ele');

                            }
                            }, 500);

                        }, false);
                    }



                });

             });

               
            isoTest.addFilterModal();
            
            isoTest.addEvents();
        },
        updateContent: function(){
            isoTest.log('fn: updateContent()');

            var groupNumber = ['42', '07', '35', '41', '43'];
            var currentLocation = ReservationStateTree.get(['session','reservationSession','pickupLocationWithDetail','location_id']).substring(0, 2);
            groupNumber.forEach(function(item){
                if(item === currentLocation){
                    for(var i=0;i<Object.keys(isoTest.content).length;i++){
                        isoTest.updateExtra(Object.keys(isoTest.content)[i]);
                    }

                }
            })
            
        },
        updateExtra: function (code) {
            isoTest.log('fn: updateExtra() : ' + code);
            if(document.querySelector('div[data-code^='+code+']')){
                var extraRow = document.querySelector('div[data-code^='+code+']').parentNode.parentNode.parentNode.parentNode;
                var detailsSelector = extraRow.querySelector('.extras-row__details-text') ? '.extras-row__details-text' : '.extras-mobile-row__details-text';
                var details = extraRow.querySelector(detailsSelector + ' div p') ? extraRow.querySelector(detailsSelector + ' div p') : extraRow.querySelector(detailsSelector + ' p');
                details.innerHTML = isoTest.content[code];
            }
        },
        fireTag : function(element, value) {
            var linkName = value ? value : element.innerText;
            s.linkTrackVars = 'eVar20';
            s.eVar20 = linkName;
            s.tl(this, 'o', linkName);
        },
        
        log : function(obj){
            if(isoTest.debug === true){
                console.log(obj);
            }
        }

    }

    var helpers = {
        elementLoaded : function (ele, callback) {
            isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
            window.clearTimeout(isoTest.eleTimer);
            if (document.querySelectorAll(ele).length > 0) {
                if (typeof callback === 'function') {
                    isoTest.log('elementLoaded::  ' + ele + ' - Found!');
                    callback();
                }
            } else {
                isoTest.eleTimer = window.setTimeout(function(){helpers.elementLoaded(ele, callback);}, 100);
            }
        },
        supplant : function(str, o) {
            return str.replace(/{([^{}]*)}/g, function(a, b) {
                var p = b.split(/\./),
                    c = o;
                for (var i = 0; i < p.length; i++) {
                  if (c[p[i]] == null)
                    return a;
                  c = c[p[i]];
                }
                return typeof c === 'string' || typeof c === 'number' ? c : a;
            });
        }
    }

    isoTest.init();
})();
</script>