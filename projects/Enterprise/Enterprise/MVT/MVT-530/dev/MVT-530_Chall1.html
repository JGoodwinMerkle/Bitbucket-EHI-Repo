<style>
</style>
<script>
	(function () {
		'use strict';
		var isoTest = {
            account: "EHI",
          portfolio: "Enterprise",
          test: "MVT-530",
          creative: "Challenger 1",
          selector: ".vehicle-select",
		  //template : '<div class="mvt-urgency-banner"><div class="mvt-icon"></div> <div class="mvt-banner-copy">+''+</div></div>',
		  banner: {
			 'GB' : 'We get lots of bookings for this destination. <strong>Prices are likely to change</strong> - book now to secure this price.',
			 'FR' : '<strong>Les prix sont susceptibles de changer</strong> - réservez dès maintenant pour obtenir ce tarif. Profitez !',
			 'DE' : '<strong>Unsere Preise werden sich voraussichtlich ändern</strong> - buchen Sie jetzt, um diesen Preis zu sichern.',
			 'ES' : '<strong>Los precios pueden cambiar</strong>; reserve ahora para asegurar este precio.'
		  },
			init: function () {

                isoTest.debug = true;


				if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
					_satellite.setVar('TargetCampaign', isoTest.test);
					_satellite.setVar('TargetCreative', isoTest.creative);
				}

				isoTest.log('Test Running...');
				isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
				isoTest.log(isoTest.test + ' - ' + isoTest.creative);

				helpers.elementLoaded(isoTest.selector, function () {
					isoTest.log('Test Ready!');
					isoTest.chall();
				});

			},
			chall: function () {
				 // Your code goes here
                 var pickUpLocationCountry = null || ReservationStateTree.get(['session', 'reservationSession', 'pickup_location', 'address','country_code']);
            var reservationCountry = null || ReservationStateTree.get(['session', 'reservationSession', 'reservationsInitiateRequest','country_of_residence_code']);
            console.log(pickUpLocationCountry,reservationCountry);
            if(pickUpLocationCountry == reservationCountry) {
                console.log('test will run');
				var template =  '<div class="mvt-urgency-banner"><div class="mvt-icon"></div> <div class="mvt-banner-copy">'+isoTest.banner[reservationCountry]+'</div></div>' ;
				document.querySelector(isoTest.selector).insertAdjacentHTML('afterbegin',template)
            }
			},

		
			
			fireTag: function (element, value) {
				var linkName = value ? value : element.innerText;
				linkName = isoTest.test ? isoTest.test + ' : ' + linkName : linkName;
				s.linkTrackVars = 'eVar20';
				s.eVar20 = linkName;
				s.tl(this, 'o', linkName);
			},
			log: function (obj) {
				if (isoTest.debug === true) {
					console.log(obj);
				}
			}
		};

		var helpers = {
			elementLoaded: function (ele, callback) {
				isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
				window.clearTimeout(isoTest.eleTimer);
				if (document.querySelectorAll(ele).length > 0) {
					if (typeof callback === 'function') {
						isoTest.log('elementLoaded::  ' + ele + ' - Found!');
						callback();
					}
				} else {
					isoTest.eleTimer = window.setTimeout(function () { helpers.elementLoaded(ele, callback); }, 100);
				}
			},
			supplant: function (str, o) {
				return str.replace(/{([^{}]*)}/g, function (a, b) {
					var p = b.split(/\./),
						c = o;
					for (var i = 0; i < p.length; i++) {
						if (c[p[i]] == null)
							return a;
						c = c[p[i]];
					}
					return typeof c === 'string' || typeof c === 'number' ? c : a;
				});
			}
		};

		isoTest.init();
	})();
</script>