<style>
	.d-dac-banner {
		align-items: center;
		background-color: #fff;
		border: 1px solid #c3c3c3;
		display: flex;
		flex-wrap: wrap;
		margin-bottom: 40px;
		padding: 16px 21px;
	}
	.d-dac-banner > div {
		display: flex;
		margin-bottom: 0.6rem;
	}
	.d-dac-banner-icon {
		flex-shrink: 0;
		margin-right: 15px;
		padding-top: 2px;
		width: 45px;
	}
	.d-dac-banner .dac-header {
		align-self: center;
		font-size: 20px;
	    font-style: normal;
	    font-weight: 600;
	    line-height: 1.2;
	}
	.d-dac-banner p {
		font-size: .9375rem;
		margin-bottom: 0;
	}
</style>
<script>
(function() {
	'use strict';
	var isoTest = {
		account : 'EHI',
		portfolio : 'Enterprise',
		test : 'Review Delivery and Collection Message',
		creative : 'Challenger 0',
		selector : '#commit .aside',
		template : '<div class="d-dac-banner">\
						<div>\
							<svg class="d-dac-banner-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Layer_1" data-name="Layer 1" viewBox="0 0 30 30.23"><defs><style>.cls-1{fill:none;}.cls-2{clip-path:url(#clip-path);}.cls-3{fill:#181918;fill-rule:evenodd;}.cls-4{fill:#149a5a;}.cls-5{fill:#f9f9fa;}</style><clipPath id="clip-path"><rect class="cls-1" x="0.29" y="0.4" width="29.42" height="29.42"/></clipPath></defs><g class="cls-2"><path class="cls-3" d="M19.92.4A4,4,0,0,1,23,1.87c.87,1,1.51,3.37,2.08,5.42A20.55,20.55,0,0,0,25.8,9.6l.71,1.83A16,16,0,0,1,27,15.09a8.33,8.33,0,0,0-1.25-.76,12,12,0,0,0-.37-2.49l-.69-1.78a23.77,23.77,0,0,1-.76-2.45c-.48-1.74-1.14-4.12-1.85-5a2.79,2.79,0,0,0-2.16-1H9.57a2.79,2.79,0,0,0-2.16,1C6.67,3.53,6,5.94,5.52,7.7a21.49,21.49,0,0,1-.73,2.37L4.1,11.86a18.49,18.49,0,0,0-.43,4.24,6.47,6.47,0,0,0,.64,3.23.58.58,0,0,1,.13.38v1.93a1,1,0,0,0,1,1h1a.87.87,0,0,0,.87-.87V19h1.2V21.8a2.07,2.07,0,0,1-2.07,2.07h-1a2.23,2.23,0,0,1-2.23-2.23V19.9a8.11,8.11,0,0,1-.78-3.8A18.76,18.76,0,0,1,3,11.45l.7-1.83c.2-.46.43-1.33.69-2.24.54-2,1.21-4.41,2.11-5.51A4,4,0,0,1,9.57.4ZM13.6,19a8.32,8.32,0,0,0-.37,1.2H10.55V19ZM7.4,11.82V13a1.3,1.3,0,0,0,0,2.6v1.2a2.5,2.5,0,0,1,0-5Zm11,1.9v.38a8.58,8.58,0,0,0-1.49.82H11.15v-1.2Zm3.74-1.9a2.51,2.51,0,0,1,2.45,2,8.72,8.72,0,0,0-1.45-.33,1.29,1.29,0,0,0-1-.48Zm-12-9.23v1.2a.87.87,0,0,0-.66.31C8.9,4.79,8.36,7,8,8.56c0,.18-.09.37-.13.54H22.59l.52,1.2h-16a.62.62,0,0,1-.48-.23.6.6,0,0,1-.1-.52c.1-.39.21-.82.32-1.28.06-.27.13-.54.2-.82L7.12,7a11.1,11.1,0,0,1,1.42-3.7A2.07,2.07,0,0,1,10.13,2.59Z"/></g><circle class="cls-4" cx="21.81" cy="21.92" r="7.9"/><path class="cls-5" d="M16.27,23.62a5.77,5.77,0,0,1,5.5-7.45,5.56,5.56,0,0,1,2.1.4l-.3.77a5,5,0,0,0-1.8-.34,4.93,4.93,0,0,0-4.92,4.92,5,5,0,0,0,.22,1.45Z"/><polygon class="cls-5" points="14.54 24.23 18.6 22.18 17.59 25.24 14.54 24.23"/><path class="cls-5" d="M21.77,27.68a5.77,5.77,0,0,1-2.05-.38l.3-.78a5,5,0,0,0,1.75.32,4.92,4.92,0,0,0,4.92-4.92,5.15,5.15,0,0,0-.17-1.3l.8-.22a5.62,5.62,0,0,1,.2,1.52A5.77,5.77,0,0,1,21.77,27.68Z"/><polygon class="cls-5" points="29.08 19.85 24.95 21.76 26.06 18.74 29.08 19.85"/></svg>\
							<p class="dac-header">Complimentary Vehicle Delivery and Retrieval</p>\
						</div>\
						<p>Get your vehicle delivered to any location free of charge. Call the number provided in your booking confirmation email to take advantage of this service.</p>\
					</div>',
		init : function() {

			isoTest.debug = ${user.mvtDebug};
			
			if (_satellite && typeof _satellite.setVar === 'function' && typeof _satellite.track === 'function') {
				_satellite.setVar('TargetCampaign', isoTest.test);
				_satellite.setVar('TargetCreative', isoTest.creative);
			}

			isoTest.log('Test Running...');
			isoTest.log(isoTest.account + ' - ' + isoTest.portfolio);
			isoTest.log(isoTest.test + ' - ' + isoTest.creative);

			helpers.elementLoaded(isoTest.selector, function() {
				isoTest.log('Test Ready!');
  				isoTest.chall();
			});
			
		window.addEventListener('hashchange', isoTest.viewChange, false);
		
		},
		viewChange : function(){
			if(/commit/.test(location.hash)){
				helpers.elementLoaded(isoTest.selector, function() {
					isoTest.chall();
				});
			}
		},
		chall : function() {
			helpers.dataLayerLoaded(function() {
				var pickupLocation = ReservationStateTree.get(['session', 'reservationSession', 'pickup_location','id']);
				var pilotLocations = ['1046559', '1004627', '1049692', '1051485', '1004621', '1043400', '1047569', '1004614', '1005942', '1008475', '1005945', '1038605', '1005940'];
				isoTest.log('Pickup Location: ' + pickupLocation);
				if (pilotLocations.indexOf(pickupLocation) !== -1) {
					
					if(!document.querySelector('.d-dac-banner')){
						document.querySelector(isoTest.selector).insertAdjacentHTML('afterbegin',isoTest.template);
					}
					isoTest.resizeLogic();
				}
			});
		},
		resizeLogic : function() {
			var banner = document.querySelector('.d-dac-banner');
			var reviewSection = document.querySelector('.review-section');
			var asideSection = document.querySelector('.aside');
			var mQ = window.matchMedia('(max-width: 748px)');
			
			// Relocate countdown module depending on screen width
			function handleTabletChange(e) {
				if (e.matches) {
					isoTest.log('mQ: W < 748px');
					reviewSection.insertAdjacentElement('afterbegin',banner);
				} else {
					isoTest.log('mQ: W > 748px');
					asideSection.insertAdjacentElement('afterbegin',banner);
				}
			}

			// Register event listener
			mQ.addListener(handleTabletChange);

			// Initial check
			handleTabletChange(mQ);
		},
		log : function(obj){
			if(isoTest.debug === true){
				console.log(obj);
			}
		}

	};

	var helpers = {
		elementLoaded : function (ele, callback) {
			isoTest.log('elementLoaded::  ' + ele + ' - Checking...');
			window.clearTimeout(isoTest.eleTimer);
			if (document.querySelectorAll(ele).length > 0) {
				if (typeof callback === 'function') {
					isoTest.log('elementLoaded::  ' + ele + ' - Found!');
					callback();
				}
	        } else {
	            isoTest.eleTimer = window.setTimeout(function(){helpers.elementLoaded(ele, callback);}, 100);
	        }
		},
		dataLayerLoaded : function (callback) {
			window.clearTimeout(isoTest.eleTimer);
			isoTest.log('dataLayerLoaded:: Checking...');
			if (typeof ReservationStateTree.get(['session', 'reservationSession', 'pickup_location','id']) !== 'undefined') {
				if (typeof callback === 'function') {
					isoTest.log('dataLayerLoaded:: Found!');
					callback();
				}
	        } else {
	            isoTest.eleTimer = window.setTimeout(function(){helpers.dataLayerLoaded(callback);}, 100);
	        }
		}
	};

	isoTest.init();
})();
</script>